import{b as v,r as s,a as e,N as x,j as g}from"./index-37e3ab65.js";import{E as N}from"./EmailInput-859f2a6a.js";import{L as i}from"./Label-105b102c.js";import{T as E,i as y}from"./isEmail-4b2ad8e6.js";import{P as p}from"./PasswordInput-286250fe.js";import{B as C}from"./Button-17933d3d.js";import{u as I,h as c}from"./http-b757c274.js";import{N as P,i as n}from"./isEmpty-5f27529e.js";function U(){const d=v(),[u,m]=s.useState(!1),[f,w]=s.useState(!0),[l,r]=s.useState({}),[a,o]=s.useState({name:"",email:"",password:"",cPassword:""});I(f),s.useEffect(()=>{c.get("/user/super-admin").then(()=>{m(!1),w(!1)}).catch(()=>m(!0))},[]);const h=async()=>{if(n(a.name)||n(a.email)||n(a.password)||n(a.cPassword))return r({text:"please fill all the input",type:"error"});if(y(a.email),a.password!==a.cPassword)return r({text:"passwords not matched",type:"error"});try{await c.post("/user/super-admin",{name:a.name.trim(),email:a.email.trim(),password:a.password.trim()},{headers:{"content-type":"application/json"}}),d("/login/super-admin")}catch(t){r({text:t.response.data.message[0],type:"error"})}};return u?e(x,{to:"/"}):g("div",{className:"bg-white max-w-lg flex-grow rounded-sm shadow-2xl box-content p-4",children:[e("div",{className:"p-2"}),e("h1",{className:"text-3xl text-gray-900 font-lato font-semibold tracking-normal",children:"Create super user"}),e("div",{className:"p-2"}),e(i,{children:"Enter name"}),e(E,{value:a.name,onInput:t=>o({...a,name:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Enter email"}),e(N,{value:a.email,onInput:t=>o({...a,email:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Enter password"}),e(p,{value:a.password,onInput:t=>o({...a,password:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Confirm password"}),e(p,{value:a.cPassword,onInput:t=>o({...a,cPassword:t.target.value})}),e("div",{className:"p-3"}),e(C,{onClick:h,children:"Create user"}),e("div",{className:"p-2"}),l.text&&e(P,{type:l.type,onClose:()=>r({}),closeOnBGClick:!0,children:l.text})]})}export{U as default};
