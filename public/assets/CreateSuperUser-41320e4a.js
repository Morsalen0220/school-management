import{b as x,r,a as e,N as h,j as g}from"./index-1b9cd0c6.js";import{E as N}from"./EmailInput-4f5d1958.js";import{L as i}from"./Label-99b5ab32.js";import{T as y}from"./TextInput-675f72f0.js";import{P as p}from"./PasswordInput-e7891627.js";import{B as E}from"./Button-bdd968da.js";import{u as C,h as c}from"./http-49edf251.js";import{N as I,i as n}from"./isEmpty-cc6011a7.js";import{i as P}from"./isEmail-2fee8878.js";function F(){const d=x(),[u,m]=r.useState(!1),[f,w]=r.useState(!0),[l,s]=r.useState({}),[a,o]=r.useState({name:"",email:"",password:"",cPassword:""});C(f),r.useEffect(()=>{c.get("/user/super-admin").then(()=>{m(!1),w(!1)}).catch(()=>m(!0))},[]);const v=async()=>{if(n(a.name)||n(a.email)||n(a.password)||n(a.cPassword))return s({text:"please fill all the input",type:"error"});if(!P(a.email))return s({text:"please enter a valid email",type:"error"});if(a.password!==a.cPassword)return s({text:"passwords not matched",type:"error"});try{await c.post("/user/super-admin",{name:a.name.trim(),email:a.email.trim(),password:a.password.trim()},{headers:{"content-type":"application/json"}}),d("/login/super-admin")}catch(t){s({text:t.response.data.message[0],type:"error"})}};return u?e(h,{to:"/"}):g("div",{className:"bg-white max-w-lg flex-grow rounded-sm shadow-2xl box-content p-4",children:[e("div",{className:"p-2"}),e("h1",{className:"text-3xl text-gray-900 font-lato font-semibold tracking-normal",children:"Create super user"}),e("div",{className:"p-2"}),e(i,{children:"Enter name"}),e(y,{value:a.name,onInput:t=>o({...a,name:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Enter email"}),e(N,{value:a.email,onInput:t=>o({...a,email:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Enter password"}),e(p,{value:a.password,onInput:t=>o({...a,password:t.target.value})}),e("div",{className:"p-2"}),e(i,{children:"Confirm password"}),e(p,{value:a.cPassword,onInput:t=>o({...a,cPassword:t.target.value})}),e("div",{className:"p-3"}),e(E,{onClick:v,children:"Create user"}),e("div",{className:"p-2"}),l.text&&e(I,{type:l.type,onClose:()=>s({}),closeOnBGClick:!0,children:l.text})]})}export{F as default};
