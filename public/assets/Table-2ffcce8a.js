import{i as j}from"./isEmpty-5f27529e.js";import{j as i,a as s,r as b}from"./index-37e3ab65.js";function H(n){const e=new URL(window.location.href).searchParams.get(n);return e!==null&&!j(e)?e:null}function m(n,e){let r=new URL(window.location.href),t=new URLSearchParams(r.search);t.set(n,e),r.search=t,window.history.replaceState({},document.title,r)}const w=n=>{m("page",n)};function I({currentPage:n,totalPages:e,setCurrentPage:r}){const[t,d]=b.useState([]);return b.useEffect(()=>{const l=[];if(e>5){n!==1&&l.push(1);const o=parseInt(e/2);o===n?l.push(n):o>n?(l.push(n),l.push(o)):(l.push(o),l.push(n)),n!==e&&l.push(e)}else for(let o=1;o<=e;o++)l.push(o);const a=[];l.map((o,p)=>{if(p+1===l.length||o+1===l[p+1])return a.push(o);a.push(o),a.push("...")}),d(a)},[n,e]),t.map((l,a)=>isNaN(l)?s("span",{className:"inline-block px-2 py-1 tracking-wider",children:"..."},a):s("span",{onClick:()=>{w(l),r(l)},className:`inline-block px-2 py-1 rounded-sm ml-1 select-none cursor-pointer ${n===l?"bg-gray-300 pointer-events-none":"bg-gray-100"}`,children:l},a))}function R({total:n,currentPage:e,itemsPerPage:r,setCurrentPage:t,...d}){const l=Math.ceil(n/r);let a="inline-block px-2 py-1 font-bold cursor-pointer bg-emerald-300 rounded-sm text-gray-800 hover:bg-emerald-500 transition select-none";return l>1&&i("div",{children:[s("span",{className:e===1?"cursor-not-allowed":"",children:s("span",{title:"previous page",onClick:()=>{w(e-1),t(e-1)},className:`${a} ${e===1?"bg-emerald-100 pointer-events-none":""}`,children:"⇽"})}),s(I,{currentPage:e,totalPages:l,setCurrentPage:t}),s("span",{className:e===l?"cursor-not-allowed":"",children:s("span",{title:"next page",onClick:()=>{w(e+1),t(e+1)},className:`${a} ml-1 ${e===l?"bg-emerald-100 pointer-events-none":""}`,children:"⇾"})})]})}function T({itemsPerPage:n,currentPage:e,setCurrentPage:r,total:t,...d}){const l=n*(e-1),a=l+n>t?t:parseInt(l)+parseInt(n);return i("div",{...d,className:"flex justify-between mt-1",children:[t&&i("div",{children:["showing from ",s("span",{className:"font-bold",children:l}),"  to ",s("span",{className:"font-bold",children:a}),"  of total ",t]}),s(R,{total:t,currentPage:e,itemsPerPage:n,setCurrentPage:r})]})}function y(n,e){m("order",n),m("order_by",e)}function k({order:n,setOrder:e,orderBy:r,setOrderBy:t,data:d=[],...l}){return s("tr",{children:d.map((a,o)=>s("th",{className:`${r===a?"font-bold":"font-normal"} first:pl-2 last:pr-2 text-black`,children:i("div",{className:"flex items-center gap-1",children:[s("div",{className:"inline-block text-base",children:a}),i("div",{className:"inline-flex flex-col select-none text-[8px] items-center justify-center",title:"order",children:[s("span",{className:`inline-block -rotate-90 cursor-pointer p-1 -mb-2 ${n!=="desc"?"text-gray-500":""}`,title:"descending",onClick:()=>{y("desc",a),t(a),e("desc")},children:"➤"}),s("span",{className:`inline-block rotate-90 cursor-pointer p-1 pb-2 -ml-1 ${n!=="asc"?"text-gray-500":""}`,title:"ascending",onClick:()=>{y("asc",a),t(a),e("asc")},children:"➤"})]})]})},o))})}function E({perPage:n,setPerPage:e,search:r,setSearch:t,searchBy:d,setSearchBy:l,title:a,...o}){const[p,N]=b.useState(r),[f,g]=b.useState(r),v=()=>{m("search",p),m("search_by",f),t(p),l(f)};return i("div",{className:"flex justify-between items-center mb-1",children:[i("div",{children:[s("label",{htmlFor:"react-table-items-per-page",children:"show "}),s("select",{id:"react-table-items-per-page",className:"p-1 border-2 rounded-sm cursor-pointer",onChange:c=>{m("limit",c.target.value),e(c.target.value)},value:n,children:[10,20,30,40,50,100].map((c,u)=>s("option",{value:c,children:c},u))})]}),i("div",{className:"flex gap-1",children:[i("select",{className:"p-1 border-2 rounded-sm cursor-pointer",onChange:c=>g(c.target.value),value:d,children:[s("option",{children:"column"}),a.map((c,u)=>s("option",{value:c,children:c},u))]}),i("div",{className:"flex items-stretch",children:[s("input",{type:"search",className:"bg-white border-2 rounded-sm p-1 border-r-0 h-8 focus:outline-none rounded-tr-none rounded-br-none",placeholder:"search",defaultValue:r,onChange:c=>N(c.target.value)}),s("button",{type:"button",onClick:v,className:"bg-emerald-300 p-1 text-gray-900 rounded-sm h-8 rounded-tl-none rounded-bl-none",children:" search"})]})]})]})}function M({order:n,setOrder:e,orderBy:r,setOrderBy:t,itemsPerPage:d,setItemsPerPage:l,currentPage:a,setCurrentPage:o,search:p,searchBy:N,setSearch:f,setSearchBy:g,total:v,title:h,data:c,emptyMessage:u="Sorry, no data found",footer:S=!1,header:C=!0,...L}){return i("div",{children:[s(E,{perPage:d,setPerPage:l,title:h,search:p,setSearch:f,searchBy:N,setSearchBy:g}),i("table",{...L,className:"w-full",children:[C===!0&&s("thead",{className:"bg-slate-200",children:s(k,{orderBy:r,setOrderBy:t,order:n,setOrder:e,data:h})}),i("tbody",{children:[c.map(x=>s("tr",{className:"odd:bg-slate-50 even:bg-white border-b-2",children:h.map(($,U)=>s("td",{className:"first:pl-2 last:pr-2 text-gray-800",children:x[$]},U))},x.id)),c.length===0&&s("tr",{children:s("td",{className:"bg-slate-50 px-2",colSpan:h.length,children:u})})]}),S===!0&&s("tfoot",{className:"bg-slate-200",children:s(k,{orderBy:r,setOrderBy:t,order:n,setOrder:e,data:h})})]}),s(T,{total:v,itemsPerPage:d,currentPage:a,setCurrentPage:o})]})}export{M as T,H as g};
