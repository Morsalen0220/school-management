import{r as t,j as S,a,L as j}from"./index-37e3ab65.js";import{N as L}from"./isEmpty-5f27529e.js";import{u as T,h as C}from"./http-b757c274.js";import{g as r,T as E}from"./Table-2ffcce8a.js";import{u as I}from"./useUpdateTitle-f224ea83.js";import{S as O}from"./Button-17933d3d.js";function U({...P}){I("School");const[b,B]=t.useState([]),[x,_]=t.useState(!0),[s,h]=t.useState({});T(x);const[o,m]=t.useState("asc"),[c,u]=t.useState("id"),[i,f]=t.useState(""),[n,p]=t.useState(""),[d,g]=t.useState(10),[l,y]=t.useState(1),[$,N]=t.useState(0);return t.useEffect(()=>{const e={order:r("order"),orderBy:r("order_by"),search:r("search"),searchBy:r("search_by"),itemsPerPage:r("limit"),currentPage:r("page")};e.order&&m(e.order),e.orderBy&&u(e.orderBy),e.search&&f(e.search),e.searchBy&&p(e.searchBy),e.itemsPerPage&&g(parseInt(e.itemsPerPage)),e.currentPage&&y(parseInt(e.currentPage))},[]),t.useEffect(()=>{C.get(`/school?page=${l}&order=${o}&order_by=${c}&limit=${d}&search=${i}&search_by=${n}`).then(e=>{B(e.data.data),N(e.data.total_data_length)}).catch(e=>{h({text:e.response.data.message[0],type:"error"})}).finally(()=>{_(!1)})},[l,d,o,c,i,n]),S("div",{...P,children:[S("div",{className:"flex justify-between items-center border-b-2 mb-3 pb-2",children:[a("h2",{className:"text-2xl font-lato font-semibold",children:"Schools"}),a(O,{children:a(j,{to:"/school/add",children:"Add new"})})]}),a(E,{order:o,setOrder:m,orderBy:c,setOrderBy:u,itemsPerPage:d,setItemsPerPage:g,currentPage:l,setCurrentPage:y,search:i,setSearch:f,searchBy:n,setSearchBy:p,total:$,title:["id","name","mobile_number","email","address","description"],footer:!0,data:b}),s.text&&a(L,{type:s.type,onClose:()=>h({}),closeOnBGClick:!0,children:s.text})]})}export{U as default};
