"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[514],{2460:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(8683),a=r(4925),s=r(6459),c=r(184);function o(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,c.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"group bg-white hover:bg-red-500 rounded-full p-1 flex"},t),{},{children:(0,c.jsx)("span",{className:"inline-block bg-img-close-red group-hover:bg-img-close-white bg-no-repeat bg-center p-2"})}))}var i=["type","onClose","closeOnBGClick","children"];function l(e){var t=e.type,r=void 0===t?"":t,s=e.onClose,l=(e.closeOnBGClick,e.children),d=(0,a.Z)(e,i),u="",h="";switch(r){case"warning":u="bg-gradient-to-r from-yellow-300 to-yellow-400";break;case"error":u="bg-gradient-to-r from-red-600 to-red-700",h="text-white";break;case"info":u="bg-gradient-to-r from-blue-500 to-blue-600",h="text-white";break;default:u="bg-gradient-to-l from-green-600 to-emerald-600",h="text-white"}return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",(0,n.Z)((0,n.Z)({className:"fixed bottom-5 right-5 rounded-md p-2 px-4 shadow-xl max-w-xs lg:max-w-md flex items-center z-50 transition ".concat(u)},d),{},{children:[(0,c.jsx)("span",{className:"block font-lato leading-5 tracking-wide text-start text-base ".concat(h),children:l}),(0,c.jsx)("span",{className:"inline-block p-2",onClick:s,children:(0,c.jsx)(o,{})})]}))})}},2044:function(e,t,r){r.d(t,{Z:function(){return i},k:function(){return l}});var n=r(8683),a=r(4925),s=r(184),c=["children"],o=["children"];function i(e){var t=e.children,r=(0,a.Z)(e,c);return(0,s.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"inline-block w-full p-1 border-2 bg-gradient-to-r border-teal-600 from-teal-500 to-teal-600 rounded-sm transition-colors text-white text-lg  font-semibold font-lato"},r),{},{children:t}))}function l(e){var t=e.children,r=(0,a.Z)(e,o);return(0,s.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"bg-gray-100 p-2 tracking-wide rounded-sm hover:bg-gray-200"},r),{},{children:t}))}},5761:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){(0,n.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},1832:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){var t=document.title;(0,n.useEffect)((function(){return document.title=e,function(){return document.title=t}}),[e,t])}},8514:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var n=r(8683),a=r(885),s=r(6459),c=r(2791),o=r(2460),i=r(7441),l=r(3999);function d(e){var t=new URL(window.location.href).searchParams.get(e);return null===t||(0,l.Z)(t)?null:t}var u=r(5761),h=r(1832),f=r(4925);function g(e,t){var r=new URL(window.location.href),n=new URLSearchParams(r.search);n.set(e,t),r.search=n,window.history.replaceState({},document.title,r)}var p=r(184),m=["total","currentPage","itemsPerPage","setCurrentPage"],b=function(e){g("page",e)};function x(e){var t=e.currentPage,r=e.totalPages,n=e.setCurrentPage,s=(0,c.useState)([]),o=(0,a.Z)(s,2),i=o[0],l=o[1];return(0,c.useEffect)((function(){var e=[];if(r>5){1!==t&&e.push(1);var n=parseInt(r/2);n===t?e.push(t):n>t?(e.push(t),e.push(n)):(e.push(n),e.push(t)),t!==r&&e.push(r)}else for(var a=1;a<=r;a++)e.push(a);var s=[];e.map((function(t,r){return r+1===e.length||t+1===e[r+1]?s.push(t):(s.push(t),void s.push("..."))})),l(s)}),[t,r]),i.map((function(e,r){return isNaN(e)?(0,p.jsx)("span",{className:"inline-block px-2 py-1 tracking-wider",children:"..."},r):(0,p.jsx)("span",{onClick:function(){b(e),n(e)},className:"inline-block px-2 py-1 rounded-sm ml-1 select-none cursor-pointer ".concat(t===e?"bg-gray-300 pointer-events-none":"bg-gray-100"),children:e},r)}))}function y(e){var t=e.total,r=e.currentPage,n=e.itemsPerPage,a=e.setCurrentPage,s=((0,f.Z)(e,m),Math.ceil(t/n)),c="inline-block px-2 py-1 font-bold cursor-pointer bg-emerald-300 rounded-sm text-gray-800 hover:bg-emerald-500 transition select-none";return(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:1===r?"cursor-not-allowed":"",children:(0,p.jsx)("span",{title:"previous page",onClick:function(){b(r-1),a(r-1)},className:"".concat(c," ").concat(1===r?"bg-emerald-100 pointer-events-none":""),children:"\u21fd"})}),(0,p.jsx)(x,{currentPage:r,totalPages:s,setCurrentPage:a}),(0,p.jsx)("span",{className:r===s?"cursor-not-allowed":"",children:(0,p.jsx)("span",{title:"next page",onClick:function(){b(r+1),a(r+1)},className:"".concat(c," ml-1 ").concat(r===s?"bg-emerald-100 pointer-events-none":""),children:"\u21fe"})})]})}var j=["itemsPerPage","currentPage","setCurrentPage","total"];function v(e){var t=e.itemsPerPage,r=e.currentPage,a=e.setCurrentPage,s=e.total,c=(0,f.Z)(e,j),o=t*(r-1),i=o+t>s?s:parseInt(o)+parseInt(t);return(0,p.jsxs)("div",(0,n.Z)((0,n.Z)({},c),{},{className:"flex justify-between mt-1",children:[(0,p.jsxs)("div",{children:["showing from ",(0,p.jsx)("span",{className:"font-bold",children:o}),"\xa0 to\xa0",(0,p.jsx)("span",{className:"font-bold",children:i}),"\xa0 of total\xa0",s]}),(0,p.jsx)(y,{total:s,currentPage:r,itemsPerPage:t,setCurrentPage:a})]}))}var P=["order","setOrder","orderBy","setOrderBy","data"];function Z(e,t){g("order",e),g("order_by",t)}function w(e){var t=e.order,r=e.setOrder,n=e.orderBy,a=e.setOrderBy,s=e.data,c=void 0===s?[]:s;(0,f.Z)(e,P);return(0,p.jsx)("tr",{children:c.map((function(e,s){return(0,p.jsx)("th",{className:"".concat(n===e?"font-bold":"font-normal"," first:pl-2 last:pr-2 text-black"),children:(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)("div",{className:"inline-block text-base",children:e}),(0,p.jsxs)("div",{className:"inline-flex flex-col select-none text-[8px] items-center justify-center",title:"order",children:[(0,p.jsx)("span",{className:"inline-block -rotate-90 cursor-pointer p-1 -mb-2 ".concat("desc"!==t?"text-gray-500":""),title:"descending",onClick:function(){Z("desc",e),a(e),r("desc")},children:"\u27a4"}),(0,p.jsx)("span",{className:"inline-block rotate-90 cursor-pointer p-1 pb-2 -ml-1 ".concat("asc"!==t?"text-gray-500":""),title:"ascending",onClick:function(){Z("asc",e),a(e),r("asc")},children:"\u27a4"})]})]})},s)}))})}var O=["perPage","setPerPage","search","setSearch","searchBy","setSearchBy","title"];function N(e){var t=e.perPage,r=e.setPerPage,n=e.search,s=e.setSearch,o=e.searchBy,i=e.setSearchBy,l=e.title,d=((0,f.Z)(e,O),(0,c.useState)(n)),u=(0,a.Z)(d,2),h=u[0],m=u[1],b=(0,c.useState)(n),x=(0,a.Z)(b,2),y=x[0],j=x[1];return(0,p.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"react-table-items-per-page",children:"show\xa0"}),(0,p.jsx)("select",{id:"react-table-items-per-page",className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){g("limit",e.target.value),r(e.target.value)},value:t,children:[10,20,30,40,50,100].map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))})]}),(0,p.jsxs)("div",{className:"flex gap-1",children:[(0,p.jsxs)("select",{className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){return j(e.target.value)},value:o,children:[(0,p.jsx)("option",{children:"column"}),l.map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))]}),(0,p.jsxs)("div",{className:"flex items-stretch",children:[(0,p.jsx)("input",{type:"search",className:"bg-white border-2 rounded-sm p-1 border-r-0 h-8 focus:outline-none rounded-tr-none rounded-br-none",placeholder:"search",defaultValue:n,onChange:function(e){return m(e.target.value)}}),(0,p.jsx)("button",{type:"button",onClick:function(){g("search",h),g("search_by",y),s(h),i(y)},className:"bg-emerald-300 p-1 text-gray-900 rounded-sm h-8 rounded-tl-none rounded-bl-none",children:"\xa0search"})]})]})]})}var k=["order","setOrder","orderBy","setOrderBy","itemsPerPage","setItemsPerPage","currentPage","setCurrentPage","search","searchBy","setSearch","setSearchBy","total","title","data","emptyMessage","footer","header"];function B(e){var t=e.order,r=e.setOrder,a=e.orderBy,s=e.setOrderBy,c=e.itemsPerPage,o=e.setItemsPerPage,i=e.currentPage,l=e.setCurrentPage,d=e.search,u=e.searchBy,h=e.setSearch,g=e.setSearchBy,m=e.total,b=e.title,x=e.data,y=e.emptyMessage,j=void 0===y?"Sorry, no data found":y,P=e.footer,Z=void 0!==P&&P,O=e.header,B=void 0===O||O,S=(0,f.Z)(e,k);return(0,p.jsxs)("div",{children:[(0,p.jsx)(N,{perPage:c,setPerPage:o,title:b,search:d,setSearch:h,searchBy:u,setSearchBy:g}),(0,p.jsxs)("table",(0,n.Z)((0,n.Z)({},S),{},{className:"w-full",children:[!0===B&&(0,p.jsx)("thead",{className:"bg-slate-200",children:(0,p.jsx)(w,{orderBy:a,setOrderBy:s,order:t,setOrder:r,data:b})}),(0,p.jsxs)("tbody",{children:[x.map((function(e){return(0,p.jsx)("tr",{className:"odd:bg-slate-50 even:bg-white border-b-2",children:b.map((function(t,r){return(0,p.jsx)("td",{className:"first:pl-2 last:pr-2 text-gray-800",children:e[t]},r)}))},e.id)})),0===x.length&&(0,p.jsx)("tr",{children:(0,p.jsx)("td",{className:"bg-slate-50 px-2",colSpan:b.length,children:j})})]}),!0===Z&&(0,p.jsx)("tfoot",{className:"bg-slate-200",children:(0,p.jsx)(w,{orderBy:a,setOrderBy:s,order:t,setOrder:r,data:b})})]})),(0,p.jsx)(v,{total:m,itemsPerPage:c,currentPage:i,setCurrentPage:l})]})}var S=r(2044),C=r(1087);function E(e){var t=Object.assign({},((0,s.Z)(e),e));(0,h.Z)("School");var r=(0,c.useState)([]),l=(0,a.Z)(r,2),f=l[0],g=l[1],m=(0,c.useState)(!0),b=(0,a.Z)(m,2),x=b[0],y=b[1],j=(0,c.useState)({}),v=(0,a.Z)(j,2),P=v[0],Z=v[1];(0,u.Z)(x);var w=(0,c.useState)("asc"),O=(0,a.Z)(w,2),N=O[0],k=O[1],E=(0,c.useState)("id"),I=(0,a.Z)(E,2),_=I[0],L=I[1],U=(0,c.useState)(""),D=(0,a.Z)(U,2),R=D[0],G=D[1],M=(0,c.useState)(""),F=(0,a.Z)(M,2),z=F[0],A=F[1],T=(0,c.useState)(10),V=(0,a.Z)(T,2),q=V[0],H=V[1],J=(0,c.useState)(1),K=(0,a.Z)(J,2),Q=K[0],W=K[1],X=(0,c.useState)(0),Y=(0,a.Z)(X,2),$=Y[0],ee=Y[1];return(0,c.useEffect)((function(){var e={order:d("order"),orderBy:d("order_by"),search:d("search"),searchBy:d("search_by"),itemsPerPage:d("limit"),currentPage:d("page")};e.order&&k(e.order),e.orderBy&&L(e.orderBy),e.search&&G(e.search),e.searchBy&&A(e.searchBy),e.itemsPerPage&&H(parseInt(e.itemsPerPage)),e.currentPage&&W(parseInt(e.currentPage))}),[]),(0,c.useEffect)((function(){i.Z.get("/school?page=".concat(Q,"&order=").concat(N,"&order_by=").concat(_,"&limit=").concat(q,"&search=").concat(R,"&search_by=").concat(z)).then((function(e){g(e.data.data),ee(e.data.total_data_length)})).catch((function(e){Z({text:e.response.data.message[0],type:"error"})})).finally((function(){y(!1)}))}),[Q,q,N,_,R,z]),(0,p.jsxs)("div",(0,n.Z)((0,n.Z)({},t),{},{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center border-b-2 mb-3 pb-2",children:[(0,p.jsx)("h2",{className:"text-2xl font-lato font-semibold",children:"Schools"}),(0,p.jsx)(S.k,{children:(0,p.jsx)(C.rU,{to:"/school/add",children:"Add new"})})]}),(0,p.jsx)(B,{order:N,setOrder:k,orderBy:_,setOrderBy:L,itemsPerPage:q,setItemsPerPage:H,currentPage:Q,setCurrentPage:W,search:R,setSearch:G,searchBy:z,setSearchBy:A,total:$,title:["id","name","mobile_number","email","address","description"],footer:!0,data:f}),P.text&&(0,p.jsx)(o.Z,{type:P.type,onClose:function(){return Z({})},closeOnBGClick:!0,children:P.text})]}))}},7441:function(e,t,r){var n=r(2388);t.Z=n.Z.create({baseURL:"/api",withCredentials:!0})},3999:function(e,t,r){function n(e){return 0===e.trim().length}r.d(t,{Z:function(){return n}})},6459:function(e,t,r){function n(e){if(null==e)throw new TypeError("Cannot destructure "+e)}r.d(t,{Z:function(){return n}})},8683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return s}})},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=514.e6b056ab.chunk.js.map