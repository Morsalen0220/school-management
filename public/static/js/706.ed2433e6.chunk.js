"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[706],{2460:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(8683),a=t(4925),i=t(6459),s=t(184);function o(e){var n=Object.assign({},((0,i.Z)(e),e));return(0,s.jsx)("button",(0,r.Z)((0,r.Z)({type:"button",className:"group bg-white hover:bg-red-500 rounded-full p-1 flex"},n),{},{children:(0,s.jsx)("span",{className:"inline-block bg-img-close-red group-hover:bg-img-close-white bg-no-repeat bg-center p-2"})}))}var c=["type","onClose","closeOnBGClick","children"];function l(e){var n=e.type,t=void 0===n?"":n,i=e.onClose,l=(e.closeOnBGClick,e.children),u=(0,a.Z)(e,c),d="",m="";switch(t){case"warning":d="bg-gradient-to-r from-yellow-300 to-yellow-400";break;case"error":d="bg-gradient-to-r from-red-600 to-red-700",m="text-white";break;case"info":d="bg-gradient-to-r from-blue-500 to-blue-600",m="text-white";break;default:d="bg-gradient-to-l from-green-600 to-emerald-600",m="text-white"}return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",(0,r.Z)((0,r.Z)({className:"fixed bottom-5 right-5 rounded-md p-2 px-4 shadow-xl max-w-xs lg:max-w-md flex items-center z-50 transition ".concat(d)},u),{},{children:[(0,s.jsx)("span",{className:"block font-lato leading-5 tracking-wide text-start text-base ".concat(m),children:l}),(0,s.jsx)("span",{className:"inline-block p-2",onClick:i,children:(0,s.jsx)(o,{})})]}))})}},2044:function(e,n,t){t.d(n,{Z:function(){return c},k:function(){return l}});var r=t(8683),a=t(4925),i=t(184),s=["children"],o=["children"];function c(e){var n=e.children,t=(0,a.Z)(e,s);return(0,i.jsx)("button",(0,r.Z)((0,r.Z)({type:"button",className:"inline-block w-full p-1 border-2 bg-gradient-to-r border-teal-600 from-teal-500 to-teal-600 rounded-sm transition-colors text-white text-lg  font-semibold font-lato"},t),{},{children:n}))}function l(e){var n=e.children,t=(0,a.Z)(e,o);return(0,i.jsx)("button",(0,r.Z)((0,r.Z)({type:"button",className:"bg-gray-100 p-2 tracking-wide rounded-sm hover:bg-gray-200"},t),{},{children:n}))}},9061:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(8683),a=t(6459),i=t(184);function s(e){var n=Object.assign({},((0,a.Z)(e),e));return(0,i.jsx)("input",(0,r.Z)({type:"email",className:"bg-slate-50  border-2 p-1 rounded-sm w-full focus:border-gray-500 focus:outline-none text-lg text-gray-900"},n))}},3412:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(8683),a=t(4925),i=t(184),s=["children","small"];function o(e){var n=e.children,t=e.small,o=void 0!==t&&t,c=(0,a.Z)(e,s);return(0,i.jsx)("label",(0,r.Z)((0,r.Z)({className:"".concat(o?"text-sm":"text-lg"," text-gray-800 font-sans tracking-tight inline-block")},c),{},{children:n}))}},2774:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(8683),a=t(6459),i=t(184);function s(e){var n=Object.assign({},((0,a.Z)(e),e));return(0,i.jsx)("input",(0,r.Z)({type:"text",className:"bg-slate-50 border-2 p-1 rounded-sm w-full focus:border-gray-500 focus:outline-none text-lg text-gray-900"},n))}},5761:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(2791);function a(e){(0,r.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},1832:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(2791);function a(e){var n=document.title;(0,r.useEffect)((function(){return document.title=e,function(){return document.title=n}}),[e,n])}},4706:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(8683),a=t(4165),i=t(5861),s=t(885),o=t(2791),c=t(7689),l=t(2044),u=t(9061),d=t(3412),m=t(2774),f=t(4925),g=t(184),h=["children"];function p(e){var n=e.children,t=(0,f.Z)(e,h);return(0,g.jsx)("select",(0,r.Z)((0,r.Z)({},t),{},{className:"p-2 border-2 bg-slate-50 block w-full cursor-pointer rounded-sm",children:n}))}var x=t(2460),Z=t(5761),b=t(1832),v=t(3999),j=t(4718),y=["children"];function w(e){e.children;var n=(0,f.Z)(e,y);return(0,g.jsx)("textarea",(0,r.Z)((0,r.Z)({},n),{},{className:"bg-gray-50 border-2 p-1 focus:outline-none focus:border-gray-500 block w-full text-lg text-gray-900 rounded-sm"}))}var k=["setFile"];function N(e){var n=e.setFile,t=(0,f.Z)(e,k),a=(0,o.useState)(""),i=(0,s.Z)(a,2),c=i[0],l=i[1];return(0,g.jsxs)("div",{children:[(0,g.jsx)("input",(0,r.Z)({type:"file",accept:"image/jpeg,image/png,image/gif",className:"bg-gray-50 w-full border-2 outline-none cursor-pointer rounded-sm",onChange:function(e){var t=(0,s.Z)(e.target.files,1)[0];n(t),l(t?URL.createObjectURL(t):"")}},t)),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.Z,{children:"Preview"}),(0,g.jsx)("div",{className:"p-2 border-2 mt-2 rounded-sm",children:(0,g.jsx)("img",{src:c,alt:"preview"})})]})]})}var C=t(6459);function F(e){var n=Object.assign({},((0,C.Z)(e),e));return(0,g.jsx)("span",(0,r.Z)((0,r.Z)({className:"text-red-400"},n),{},{children:"*"}))}var S=t(5737),O=t.n(S),L=["number","setNumber"];function A(e){var n=e.number,t=e.setNumber,a=(0,f.Z)(e,L);return(0,g.jsx)(O(),(0,r.Z)((0,r.Z)({},a),{},{country:"us",containerClass:"w-full border-2 rounded-sm",enableSearch:!0,countryCodeEditable:!1,inputClass:"!w-full !h-auto p-2 !bg-gray-50 !border-none",specialLabel:"",autocompleteSearch:!0,value:n,onChange:function(e){return t(e)}}))}var E=t(7441);function I(){(0,b.Z)("Add new school");var e=(0,o.useState)({name:"",email:"",phone:"",address:"",description:"",image:"",admin:[]}),n=(0,s.Z)(e,2),t=n[0],f=n[1],h=(0,o.useState)(!1),y=(0,s.Z)(h,2),k=y[0],C=y[1],S=(0,o.useState)({}),O=(0,s.Z)(S,2),L=O[0],I=O[1];(0,Z.Z)(k);var B=(0,c.s0)(),G=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,v.Z)(t.name)||(0,v.Z)(t.email)||(0,v.Z)(t.phone)||(0,v.Z)(t.address))){e.next=3;break}return I({text:"please fill all required field",type:"error"}),e.abrupt("return");case 3:if((0,j.Z)(t.email)){e.next=6;break}return I({text:"email is invalid",type:"error"}),e.abrupt("return");case 6:if(I({}),t.phone.startsWith("+")||(t.phone="+"+t.phone),e.prev=8,C(!0),!t.image){e.next=15;break}return e.next=13,E.Z.post("/image",{image:t.image},{headers:{"Content-Type":"multipart/form-data"}});case 13:n=e.sent,t.image=n.data.data.name;case 15:return e.next=17,E.Z.post("/school",t,{headers:{"Content-Type":"application/json"}});case 17:I({text:"School added successfully",type:"success"}),B("/school"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),console.log(e.t0),I({text:e.t0.response.data.message[0],type:"error"});case 25:return e.prev=25,C(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,21,25,28]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{children:[(0,g.jsxs)(d.Z,{htmlFor:"name",children:["School name ",(0,g.jsx)(F,{})]}),(0,g.jsx)(m.Z,{id:"name",value:t.name,onInput:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{name:e.target.value}))}}),(0,g.jsxs)(d.Z,{htmlFor:"address",children:["Address ",(0,g.jsx)(F,{})]}),(0,g.jsx)(m.Z,{id:"address",value:t.address,onInput:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{address:e.target.value}))}}),(0,g.jsxs)(d.Z,{htmlFor:"phone",children:["Phone number ",(0,g.jsx)(F,{})]}),(0,g.jsx)(A,{number:t.phone,setNumber:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{phone:e}))}}),(0,g.jsx)(d.Z,{htmlFor:"description",children:"Description "}),(0,g.jsx)(w,{id:"description",defaultValue:t.description,onInput:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{description:e.target.value}))}}),(0,g.jsxs)(d.Z,{htmlFor:"email",children:["Email ",(0,g.jsx)(F,{})]}),(0,g.jsx)(u.Z,{id:"email",value:t.email,onInput:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{email:e.target.value}))}}),(0,g.jsxs)(d.Z,{children:["Select Admin ",(0,g.jsx)(F,{})]}),(0,g.jsx)(p,{children:(0,g.jsx)("option",{value:"admin",children:"admin"})}),(0,g.jsx)("p",{className:"mt-1"}),(0,g.jsx)(l.k,{children:"add another admin"}),(0,g.jsx)("p",{className:"mt-2"}),(0,g.jsx)(d.Z,{htmlFor:"image",children:"Select image"}),(0,g.jsx)("br",{}),(0,g.jsx)(N,{id:"image",setFile:function(e){return f((0,r.Z)((0,r.Z)({},t),{},{image:e}))}}),(0,g.jsx)("p",{className:"mt-2"}),(0,g.jsx)(l.Z,{onClick:G,children:"Add new school"}),L.text&&(0,g.jsx)(x.Z,{type:L.type,onClose:function(){return I({})},closeOnBGClick:!0,children:L.text})]})}},7441:function(e,n,t){var r=t(2388);n.Z=r.Z.create({baseURL:"/api",withCredentials:!0})},4718:function(e,n,t){function r(e){return!0}t.d(n,{Z:function(){return r}})},3999:function(e,n,t){function r(e){return 0===e.trim().length}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=706.ed2433e6.chunk.js.map