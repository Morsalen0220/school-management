"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[962],{2460:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(8683),a=r(4925),s=r(6459),c=r(184);function o(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,c.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"group bg-white hover:bg-red-500 rounded-full p-1 flex"},t),{},{children:(0,c.jsx)("span",{className:"inline-block bg-img-close-red group-hover:bg-img-close-white bg-no-repeat bg-center p-2"})}))}var i=["type","onClose","closeOnBGClick","children"];function l(e){var t=e.type,r=void 0===t?"":t,s=e.onClose,l=(e.closeOnBGClick,e.children),u=(0,a.Z)(e,i),d="",h="";switch(r){case"warning":d="bg-gradient-to-r from-yellow-300 to-yellow-400";break;case"error":d="bg-gradient-to-r from-red-600 to-red-700",h="text-white";break;case"info":d="bg-gradient-to-r from-blue-500 to-blue-600",h="text-white";break;default:d="bg-gradient-to-l from-green-600 to-emerald-600",h="text-white"}return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",(0,n.Z)((0,n.Z)({className:"fixed bottom-5 right-5 rounded-md p-2 px-4 shadow-xl max-w-xs lg:max-w-md flex items-center z-50 transition ".concat(d)},u),{},{children:[(0,c.jsx)("span",{className:"block font-lato leading-5 tracking-wide text-start text-base ".concat(h),children:l}),(0,c.jsx)("span",{className:"inline-block p-2",onClick:s,children:(0,c.jsx)(o,{})})]}))})}},2044:function(e,t,r){r.d(t,{Z:function(){return i},k:function(){return l}});var n=r(8683),a=r(4925),s=r(184),c=["children"],o=["children"];function i(e){var t=e.children,r=(0,a.Z)(e,c);return(0,s.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"inline-block w-full p-1 border-2 bg-gradient-to-r border-teal-600 from-teal-500 to-teal-600 rounded-sm transition-colors text-white text-lg  font-semibold font-lato"},r),{},{children:t}))}function l(e){var t=e.children,r=(0,a.Z)(e,o);return(0,s.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"bg-gray-100 p-2 tracking-wide rounded-sm hover:bg-gray-200"},r),{},{children:t}))}},6334:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(8683),a=r(4925),s=r(885),c=r(2791);function o(e,t){var r=new URL(window.location.href),n=new URLSearchParams(r.search);n.set(e,t),r.search=n,window.history.replaceState({},document.title,r)}var i=r(184),l=["total","currentPage","itemsPerPage","setCurrentPage"],u=function(e){o("page",e)};function d(e){var t=e.currentPage,r=e.totalPages,n=e.setCurrentPage,a=(0,c.useState)([]),o=(0,s.Z)(a,2),l=o[0],d=o[1];return(0,c.useEffect)((function(){var e=[];if(r>5){1!==t&&e.push(1);var n=parseInt(r/2);n===t?e.push(t):n>t?(e.push(t),e.push(n)):(e.push(n),e.push(t)),t!==r&&e.push(r)}else for(var a=1;a<=r;a++)e.push(a);var s=[];e.map((function(t,r){return r+1===e.length||t+1===e[r+1]?s.push(t):(s.push(t),void s.push("..."))})),d(s)}),[t,r]),l.map((function(e,r){return isNaN(e)?(0,i.jsx)("span",{className:"inline-block px-2 py-1 tracking-wider",children:"..."},r):(0,i.jsx)("span",{onClick:function(){u(e),n(e)},className:"inline-block px-2 py-1 rounded-sm ml-1 select-none cursor-pointer ".concat(t===e?"bg-gray-300 pointer-events-none":"bg-gray-100"),children:e},r)}))}function h(e){var t=e.total,r=e.currentPage,n=e.itemsPerPage,s=e.setCurrentPage,c=((0,a.Z)(e,l),Math.ceil(t/n)),o="inline-block px-2 py-1 font-bold cursor-pointer bg-emerald-300 rounded-sm text-gray-800 hover:bg-emerald-500 transition select-none";return c>1&&(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:1===r?"cursor-not-allowed":"",children:(0,i.jsx)("span",{title:"previous page",onClick:function(){u(r-1),s(r-1)},className:"".concat(o," ").concat(1===r?"bg-emerald-100 pointer-events-none":""),children:"\u21fd"})}),(0,i.jsx)(d,{currentPage:r,totalPages:c,setCurrentPage:s}),(0,i.jsx)("span",{className:r===c?"cursor-not-allowed":"",children:(0,i.jsx)("span",{title:"next page",onClick:function(){u(r+1),s(r+1)},className:"".concat(o," ml-1 ").concat(r===c?"bg-emerald-100 pointer-events-none":""),children:"\u21fe"})})]})}var f=["itemsPerPage","currentPage","setCurrentPage","total"];function g(e){var t=e.itemsPerPage,r=e.currentPage,s=e.setCurrentPage,c=e.total,o=(0,a.Z)(e,f),l=t*(r-1),u=l+t>c?c:parseInt(l)+parseInt(t);return(0,i.jsxs)("div",(0,n.Z)((0,n.Z)({},o),{},{className:"flex justify-between mt-1",children:[c&&(0,i.jsxs)("div",{children:["showing from ",(0,i.jsx)("span",{className:"font-bold",children:l}),"\xa0 to\xa0",(0,i.jsx)("span",{className:"font-bold",children:u}),"\xa0 of total\xa0",c]}),(0,i.jsx)(h,{total:c,currentPage:r,itemsPerPage:t,setCurrentPage:s})]}))}var p=["order","setOrder","orderBy","setOrderBy","data"];function m(e,t){o("order",e),o("order_by",t)}function b(e){var t=e.order,r=e.setOrder,n=e.orderBy,s=e.setOrderBy,c=e.data,o=void 0===c?[]:c;(0,a.Z)(e,p);return(0,i.jsx)("tr",{children:o.map((function(e,a){return(0,i.jsx)("th",{className:"".concat(n===e?"font-bold":"font-normal"," first:pl-2 last:pr-2 text-black"),children:(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("div",{className:"inline-block text-base",children:e}),(0,i.jsxs)("div",{className:"inline-flex flex-col select-none text-[8px] items-center justify-center",title:"order",children:[(0,i.jsx)("span",{className:"inline-block -rotate-90 cursor-pointer p-1 -mb-2 ".concat("desc"!==t?"text-gray-500":""),title:"descending",onClick:function(){m("desc",e),s(e),r("desc")},children:"\u27a4"}),(0,i.jsx)("span",{className:"inline-block rotate-90 cursor-pointer p-1 pb-2 -ml-1 ".concat("asc"!==t?"text-gray-500":""),title:"ascending",onClick:function(){m("asc",e),s(e),r("asc")},children:"\u27a4"})]})]})},a)}))})}var x=["perPage","setPerPage","search","setSearch","searchBy","setSearchBy","title"];function y(e){var t=e.perPage,r=e.setPerPage,n=e.search,l=e.setSearch,u=e.searchBy,d=e.setSearchBy,h=e.title,f=((0,a.Z)(e,x),(0,c.useState)(n)),g=(0,s.Z)(f,2),p=g[0],m=g[1],b=(0,c.useState)(n),y=(0,s.Z)(b,2),j=y[0],v=y[1];return(0,i.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"react-table-items-per-page",children:"show\xa0"}),(0,i.jsx)("select",{id:"react-table-items-per-page",className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){o("limit",e.target.value),r(e.target.value)},value:t,children:[10,20,30,40,50,100].map((function(e,t){return(0,i.jsx)("option",{value:e,children:e},t)}))})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsxs)("select",{className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){return v(e.target.value)},value:u,children:[(0,i.jsx)("option",{children:"column"}),h.map((function(e,t){return(0,i.jsx)("option",{value:e,children:e},t)}))]}),(0,i.jsxs)("div",{className:"flex items-stretch",children:[(0,i.jsx)("input",{type:"search",className:"bg-white border-2 rounded-sm p-1 border-r-0 h-8 focus:outline-none rounded-tr-none rounded-br-none",placeholder:"search",defaultValue:n,onChange:function(e){return m(e.target.value)}}),(0,i.jsx)("button",{type:"button",onClick:function(){o("search",p),o("search_by",j),l(p),d(j)},className:"bg-emerald-300 p-1 text-gray-900 rounded-sm h-8 rounded-tl-none rounded-bl-none",children:"\xa0search"})]})]})]})}var j=["order","setOrder","orderBy","setOrderBy","itemsPerPage","setItemsPerPage","currentPage","setCurrentPage","search","searchBy","setSearch","setSearchBy","total","title","data","emptyMessage","footer","header"];function v(e){var t=e.order,r=e.setOrder,s=e.orderBy,c=e.setOrderBy,o=e.itemsPerPage,l=e.setItemsPerPage,u=e.currentPage,d=e.setCurrentPage,h=e.search,f=e.searchBy,p=e.setSearch,m=e.setSearchBy,x=e.total,v=e.title,P=e.data,Z=e.emptyMessage,w=void 0===Z?"Sorry, no data found":Z,O=e.footer,N=void 0!==O&&O,k=e.header,B=void 0===k||k,C=(0,a.Z)(e,j);return(0,i.jsxs)("div",{children:[(0,i.jsx)(y,{perPage:o,setPerPage:l,title:v,search:h,setSearch:p,searchBy:f,setSearchBy:m}),(0,i.jsxs)("table",(0,n.Z)((0,n.Z)({},C),{},{className:"w-full",children:[!0===B&&(0,i.jsx)("thead",{className:"bg-slate-200",children:(0,i.jsx)(b,{orderBy:s,setOrderBy:c,order:t,setOrder:r,data:v})}),(0,i.jsxs)("tbody",{children:[P.map((function(e){return(0,i.jsx)("tr",{className:"odd:bg-slate-50 even:bg-white border-b-2",children:v.map((function(t,r){return(0,i.jsx)("td",{className:"first:pl-2 last:pr-2 text-gray-800",children:e[t]},r)}))},e.id)})),0===P.length&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{className:"bg-slate-50 px-2",colSpan:v.length,children:w})})]}),!0===N&&(0,i.jsx)("tfoot",{className:"bg-slate-200",children:(0,i.jsx)(b,{orderBy:s,setOrderBy:c,order:t,setOrder:r,data:v})})]})),(0,i.jsx)(g,{total:x,itemsPerPage:o,currentPage:u,setCurrentPage:d})]})}},5761:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){(0,n.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},1832:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){var t=document.title;(0,n.useEffect)((function(){return document.title=e,function(){return document.title=t}}),[e,t])}},9962:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(8683),a=r(885),s=r(6459),c=r(2791),o=r(7689),i=r(1087),l=r(2044),u=r(2460),d=r(6334),h=r(5761),f=r(1832),g=r(8360),p=r(7441),m=r(9037),b=r(184),x=["admin","accountant","student","librarian","parent","teacher"];function y(e){var t=Object.assign({},((0,s.Z)(e),e)),r=(0,o.UO)().role;(0,f.Z)((0,m.Z)(r));var y=(0,o.s0)();x.includes(r.toLowerCase())||y("/");var j=(0,c.useState)([]),v=(0,a.Z)(j,2),P=v[0],Z=v[1],w=(0,c.useState)(!0),O=(0,a.Z)(w,2),N=O[0],k=O[1],B=(0,c.useState)({}),C=(0,a.Z)(B,2),S=C[0],_=C[1];(0,h.Z)(N);var E=(0,c.useState)("asc"),I=(0,a.Z)(E,2),L=I[0],U=I[1],D=(0,c.useState)("id"),R=(0,a.Z)(D,2),G=R[0],M=R[1],A=(0,c.useState)(""),F=(0,a.Z)(A,2),z=F[0],T=F[1],V=(0,c.useState)(""),q=(0,a.Z)(V,2),H=q[0],J=q[1],K=(0,c.useState)(10),Q=(0,a.Z)(K,2),W=Q[0],X=Q[1],Y=(0,c.useState)(1),$=(0,a.Z)(Y,2),ee=$[0],te=$[1],re=(0,c.useState)(0),ne=(0,a.Z)(re,2),ae=ne[0],se=ne[1];return(0,c.useEffect)((function(){var e={order:(0,g.Z)("order"),orderBy:(0,g.Z)("order_by"),search:(0,g.Z)("search"),searchBy:(0,g.Z)("search_by"),itemsPerPage:(0,g.Z)("limit"),currentPage:(0,g.Z)("page")};e.order&&U(e.order),e.orderBy&&M(e.orderBy),e.search&&T(e.search),e.searchBy&&J(e.searchBy),e.itemsPerPage&&X(parseInt(e.itemsPerPage)),e.currentPage&&te(parseInt(e.currentPage))}),[]),(0,c.useEffect)((function(){p.Z.get("/user/".concat(r,"?page=").concat(ee,"&order=").concat(L,"&order_by=").concat(G,"&limit=").concat(W,"&search=").concat(z,"&search_by=").concat(H)).then((function(e){Z(e.data.data),se(e.data.total_data_length)})).catch((function(e){_({text:e.response.data.message[0],type:"error"})})).finally((function(){k(!1)}))}),[ee,W,L,G,z,H,r]),(0,b.jsxs)("div",(0,n.Z)((0,n.Z)({},t),{},{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b-2 mb-3 pb-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-lato font-semibold",children:(0,m.Z)(r)}),(0,b.jsx)(l.k,{children:(0,b.jsx)(i.rU,{to:"/users/".concat(r,"/add"),children:"Add new"})})]}),(0,b.jsx)(d.Z,{order:L,setOrder:U,orderBy:G,setOrderBy:M,itemsPerPage:W,setItemsPerPage:X,currentPage:ee,setCurrentPage:te,search:z,setSearch:T,searchBy:H,setSearchBy:J,total:ae,title:["id","user_id","name","school_id","email","image","created_by"],footer:!0,data:P}),S.text&&(0,b.jsx)(u.Z,{type:S.type,onClose:function(){return _({})},closeOnBGClick:!0,children:S.text})]}))}},8360:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(3999);function a(e){var t=new URL(window.location.href).searchParams.get(e);return null===t||(0,n.Z)(t)?null:t}},7441:function(e,t,r){var n=r(2388);t.Z=n.Z.create({baseURL:"/api",withCredentials:!0})},3999:function(e,t,r){function n(e){return 0===e.trim().length}r.d(t,{Z:function(){return n}})},9037:function(e,t,r){function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}r.d(t,{Z:function(){return n}})},6459:function(e,t,r){function n(e){if(null==e)throw new TypeError("Cannot destructure "+e)}r.d(t,{Z:function(){return n}})},8683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return s}})},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=962.8fd07321.chunk.js.map