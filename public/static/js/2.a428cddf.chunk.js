"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2],{5761:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(2791);function o(e){(0,r.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},7002:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(885),o=t(2791),s=t(7689),i=t(6459),c=t(8683),l=t(4925),a=t(1087),u=t(184),d=["to","topLevelMenu","exact","children"];function f(e){var n=e.to,t=e.topLevelMenu,r=void 0!==t&&t,o=e.exact,i=void 0!==o&&o,f=e.children,h=(0,l.Z)(e,d),x=(0,s.WU)().pathname,b=x.startsWith(n);return b&&i&&(b=x===n||x===n+"/"),(0,u.jsx)(a.rU,(0,c.Z)((0,c.Z)({className:"inline-block font-sans px-4 text-left border-b-2 ".concat(r?"":"last:border-b-0 "," ").concat(b?r?"bg-emerald-300 text-gray-900 border-white font-semibold":"bg-gray-100":"text-black hover:bg-gray-100"),to:n},h),{},{children:f}))}function h(e){Object.assign({},((0,i.Z)(e),e));var n=(0,o.useState)(!1),t=(0,r.Z)(n,2),c=t[0],l=t[1],a=(0,s.WU)().pathname,d=(0,o.useState)([]),h=(0,r.Z)(d,2),x=h[0],b=h[1];(0,o.useEffect)((function(){if("/"!==a){var e=a.slice(1).replace(/[/].+/,"");b([e])}}),[a]),(0,o.useEffect)((function(){window.innerWidth>1024&&l(!0)}),[]);var j=function(e){return x.includes(e)};return(0,u.jsxs)("aside",{className:"relative shadow-xl min-h-screen w-full transition bg-white ".concat(c?"max-w-fit":"max-w-0"),children:[(0,u.jsxs)("div",{className:"overflow-hidden transition flex flex-col",children:[(0,u.jsx)(f,{to:"/school",topLevelMenu:!0,children:"School"}),(0,u.jsx)("div",{className:"border-b-2 ".concat(j("school")?"":"hidden"),children:(0,u.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,u.jsx)(f,{to:"/school",exact:!0,children:"View"}),(0,u.jsx)(f,{to:"/school/add",children:"Add new"})]})}),(0,u.jsx)(f,{to:"/users",topLevelMenu:!0,children:"Users"}),(0,u.jsx)("div",{className:"border-b-2 ".concat(j("users")?"":"hidden"),children:(0,u.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,u.jsx)(f,{to:"/users/admin",children:"Admin"}),(0,u.jsx)(f,{to:"/users/accountant",children:"Accountant"}),(0,u.jsx)(f,{to:"/users/student",children:"Student"}),(0,u.jsx)(f,{to:"/users/librarian",children:"Librarian"}),(0,u.jsx)(f,{to:"/users/parent",children:"Parent"}),(0,u.jsx)(f,{to:"/users/teacher",children:"Teacher"})]})}),(0,u.jsx)(f,{to:"/class",topLevelMenu:!0,children:"Class"}),(0,u.jsx)(f,{to:"/notice",topLevelMenu:!0,children:"Notice"}),(0,u.jsx)(f,{to:"/exam",topLevelMenu:!0,children:"Exam"}),(0,u.jsx)(f,{to:"/book",topLevelMenu:!0,children:"Books"})]}),(0,u.jsx)("span",{title:c?"close menu":"open menu",className:"inline-block absolute bg-emerald-300 rounded-full text-white font-extrabold font-lato p-1 px-2 cursor-pointer select-none transition top-52 z-20 ".concat(c?"-right-5":"-left-2 hover:left-1"),onClick:function(){return l(!c)},children:c?(0,u.jsx)("span",{className:"inline-block rotate-180",children:"\u27a4"}):(0,u.jsx)("span",{children:"\u27a4"})})]})}var x={image:"".concat("","/public/uploads/image")},b=["to","children"];function j(e){var n=e.to,t=e.children,r=(0,l.Z)(e,b);return(0,u.jsx)(a.rU,(0,c.Z)((0,c.Z)({className:"inline-block w-full px-2 cursor-pointer hover:bg-gray-100 font-sans"},r),{},{to:n,children:t}))}function m(){return(0,u.jsxs)("div",{className:"absolute right-4 shadow-2xl rounded-sm bg-white z-20",children:[(0,u.jsx)(j,{to:"/profile",children:"Profile"}),(0,u.jsx)(j,{to:"/settings",children:"Settings"}),(0,u.jsx)("hr",{}),(0,u.jsx)(j,{to:"/logout",children:"Logout"})]})}function p(e){var n=Object.assign({},((0,i.Z)(e),e)),t=(0,o.useState)(!1),s=(0,r.Z)(t,2),l=s[0],a=s[1];return(0,u.jsxs)("header",(0,c.Z)((0,c.Z)({className:"relative"},n),{},{children:[(0,u.jsxs)("div",{className:"h-full bg-white shadow-xl p-2 flex justify-between items-center",children:[(0,u.jsx)("h4",{className:"font-lato text-lg font-semibold",children:"Title here"}),(0,u.jsx)("div",{children:(0,u.jsx)("span",{className:"inline-block h-10 bg-white-500 border-2 border-emerald-300 rounded-full p-1 cursor-pointer",onClick:function(){return a(!l)},children:(0,u.jsx)("img",{src:"".concat(x.image,"/user.png"),alt:"user",className:"max-h-full"})})})]}),l&&(0,u.jsx)(m,{})]}))}var v=t(5761),g=t(7441);function w(e){var n=e.children,t=(0,o.useState)({}),i=(0,r.Z)(t,2),c=i[0],l=i[1],a=(0,o.useState)(!0),d=(0,r.Z)(a,2),f=d[0],x=d[1],b=(0,s.s0)();return(0,v.Z)(f),(0,o.useEffect)((function(){g.Z.get("/user/me").then((function(e){l(e.data.data)})).catch((function(){b("/login")})).finally((function(){x(!1)}))}),[b]),c!=={}&&(0,u.jsxs)("div",{children:[(0,u.jsx)(p,{}),(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)(h,{}),(0,u.jsx)("main",{className:"bg-white w-full m-2 mr-0 mb-0 shadow-lg relative z-10 rounded-sm p-2",children:n})]})]})}},7441:function(e,n,t){var r=t(2388);n.Z=r.Z.create({baseURL:"/api",withCredentials:!0})},6459:function(e,n,t){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return r}})},8683:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,{Z:function(){return s}})},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=2.a428cddf.chunk.js.map