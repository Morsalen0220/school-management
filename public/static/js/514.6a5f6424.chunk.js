"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[514],{2460:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(8683),a=r(4925),s=r(6459),c=r(184);function o(e){var t=Object.assign({},((0,s.Z)(e),e));return(0,c.jsx)("button",(0,n.Z)((0,n.Z)({type:"button",className:"group bg-white hover:bg-red-500 rounded-full p-1 flex"},t),{},{children:(0,c.jsx)("span",{className:"inline-block bg-img-close-red group-hover:bg-img-close-white bg-no-repeat bg-center p-2"})}))}var i=["type","onClose","closeOnBGClick","children"];function l(e){var t=e.type,r=void 0===t?"":t,s=e.onClose,l=(e.closeOnBGClick,e.children),u=(0,a.Z)(e,i),d="",h="";switch(r){case"warning":d="bg-gradient-to-r from-yellow-300 to-yellow-400";break;case"error":d="bg-gradient-to-r from-red-600 to-red-700",h="text-white";break;case"info":d="bg-gradient-to-r from-blue-500 to-blue-600",h="text-white";break;default:d="bg-gradient-to-l from-green-600 to-emerald-600",h="text-white"}return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",(0,n.Z)((0,n.Z)({className:"fixed bottom-5 right-5 rounded-md p-2 px-4 shadow-xl max-w-xs lg:max-w-md flex items-center z-50 transition ".concat(d)},u),{},{children:[(0,c.jsx)("span",{className:"block font-lato leading-5 tracking-wide text-start text-base ".concat(h),children:l}),(0,c.jsx)("span",{className:"inline-block p-2",onClick:s,children:(0,c.jsx)(o,{})})]}))})}},5761:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){(0,n.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},1832:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(2791);function a(e){var t=document.title;(0,n.useEffect)((function(){return document.title=e,function(){return document.title=t}}),[e,t])}},8514:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var n=r(8683),a=r(885),s=r(6459),c=r(2791),o=r(2460),i=r(7441),l=r(3999);function u(e){var t=new URL(window.location.href).searchParams.get(e);return null===t||(0,l.Z)(t)?null:t}var d=r(5761),h=r(1832),f=r(4925);function g(e,t){var r=new URL(window.location.href),n=new URLSearchParams(r.search);n.set(e,t),r.search=n,window.history.replaceState({},document.title,r)}var p=r(184),m=["total","currentPage","itemsPerPage","setCurrentPage"],b=function(e){g("page",e)};function x(e){var t=e.currentPage,r=e.totalPages,n=e.setCurrentPage,s=(0,c.useState)([]),o=(0,a.Z)(s,2),i=o[0],l=o[1];return(0,c.useEffect)((function(){var e=[];if(r>5){1!==t&&e.push(1);var n=parseInt(r/2);n===t?e.push(t):n>t?(e.push(t),e.push(n)):(e.push(n),e.push(t)),t!==r&&e.push(r)}else for(var a=1;a<=r;a++)e.push(a);var s=[];e.map((function(t,r){return r+1===e.length||t+1===e[r+1]?s.push(t):(s.push(t),void s.push("..."))})),l(s)}),[t,r]),i.map((function(e,r){return isNaN(e)?(0,p.jsx)("span",{className:"inline-block px-2 py-1 tracking-wider",children:"..."},r):(0,p.jsx)("span",{onClick:function(){b(e),n(e)},className:"inline-block px-2 py-1 rounded-sm ml-1 select-none cursor-pointer ".concat(t===e?"bg-gray-300 pointer-events-none":"bg-gray-100"),children:e},r)}))}function y(e){var t=e.total,r=e.currentPage,n=e.itemsPerPage,a=e.setCurrentPage,s=((0,f.Z)(e,m),Math.ceil(t/n)),c="inline-block px-2 py-1 font-bold cursor-pointer bg-emerald-300 rounded-sm text-gray-800 hover:bg-emerald-500 transition select-none";return(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:1===r?"cursor-not-allowed":"",children:(0,p.jsx)("span",{title:"previous page",onClick:function(){b(r-1),a(r-1)},className:"".concat(c," ").concat(1===r?"bg-emerald-100 pointer-events-none":""),children:"\u21fd"})}),(0,p.jsx)(x,{currentPage:r,totalPages:s,setCurrentPage:a}),(0,p.jsx)("span",{className:r===s?"cursor-not-allowed":"",children:(0,p.jsx)("span",{title:"next page",onClick:function(){b(r+1),a(r+1)},className:"".concat(c," ml-1 ").concat(r===s?"bg-emerald-100 pointer-events-none":""),children:"\u21fe"})})]})}var P=["itemsPerPage","currentPage","setCurrentPage","total"];function j(e){var t=e.itemsPerPage,r=e.currentPage,a=e.setCurrentPage,s=e.total,c=(0,f.Z)(e,P),o=t*(r-1),i=o+t>s?s:parseInt(o)+parseInt(t);return(0,p.jsxs)("div",(0,n.Z)((0,n.Z)({},c),{},{className:"flex justify-between mt-1",children:[(0,p.jsxs)("div",{children:["showing from ",(0,p.jsx)("span",{className:"font-bold",children:o}),"\xa0 to\xa0",(0,p.jsx)("span",{className:"font-bold",children:i}),"\xa0 of total\xa0",s]}),(0,p.jsx)(y,{total:s,currentPage:r,itemsPerPage:t,setCurrentPage:a})]}))}var v=["order","setOrder","orderBy","setOrderBy","data"];function w(e,t){g("order",e),g("order_by",t)}function O(e){var t=e.order,r=e.setOrder,n=e.orderBy,a=e.setOrderBy,s=e.data,c=void 0===s?[]:s;(0,f.Z)(e,v);return(0,p.jsx)("tr",{children:c.map((function(e,s){return(0,p.jsx)("th",{className:"".concat(n===e?"font-bold":"font-normal"," first:pl-2 last:pr-2 text-black"),children:(0,p.jsxs)("div",{className:"flex items-center gap-1",children:[(0,p.jsx)("div",{className:"inline-block text-base",children:e}),(0,p.jsxs)("div",{className:"inline-flex flex-col select-none text-[8px] items-center justify-center",title:"order",children:[(0,p.jsx)("span",{className:"inline-block -rotate-90 cursor-pointer p-1 -mb-2 ".concat("desc"!==t?"text-gray-500":""),title:"descending",onClick:function(){w("desc",e),a(e),r("desc")},children:"\u27a4"}),(0,p.jsx)("span",{className:"inline-block rotate-90 cursor-pointer p-1 pb-2 -ml-1 ".concat("asc"!==t?"text-gray-500":""),title:"ascending",onClick:function(){w("asc",e),a(e),r("asc")},children:"\u27a4"})]})]})},s)}))})}var Z=["perPage","setPerPage","search","setSearch","searchBy","setSearchBy","title"];function B(e){var t=e.perPage,r=e.setPerPage,n=e.search,s=e.setSearch,o=e.searchBy,i=e.setSearchBy,l=e.title,u=((0,f.Z)(e,Z),(0,c.useState)(n)),d=(0,a.Z)(u,2),h=d[0],m=d[1],b=(0,c.useState)(n),x=(0,a.Z)(b,2),y=x[0],P=x[1];return(0,p.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"react-table-items-per-page",children:"show\xa0"}),(0,p.jsx)("select",{id:"react-table-items-per-page",className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){g("limit",e.target.value),r(e.target.value)},defaultValue:t,children:[10,20,30,40,50,100].map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))})]}),(0,p.jsxs)("div",{className:"flex gap-1",children:[(0,p.jsxs)("select",{className:"p-1 border-2 rounded-sm cursor-pointer",onChange:function(e){return P(e.target.value)},defaultValue:o,children:[(0,p.jsx)("option",{children:"column"}),l.map((function(e,t){return(0,p.jsx)("option",{value:e,children:e},t)}))]}),(0,p.jsxs)("div",{className:"flex items-stretch",children:[(0,p.jsx)("input",{type:"search",className:"bg-white border-2 rounded-sm p-1 border-r-0 h-8 focus:outline-none rounded-tr-none rounded-br-none",placeholder:"search",defaultValue:n,onChange:function(e){return m(e.target.value)}}),(0,p.jsx)("button",{type:"button",onClick:function(){g("search",h),g("search_by",y),s(h),i(y)},className:"bg-emerald-300 p-1 text-gray-900 rounded-sm h-8 rounded-tl-none rounded-bl-none",children:"\xa0search"})]})]})]})}var N=["order","setOrder","orderBy","setOrderBy","itemsPerPage","setItemsPerPage","currentPage","setCurrentPage","search","searchBy","setSearch","setSearchBy","total","title","data","footer","header"];function S(e){var t=e.order,r=e.setOrder,a=e.orderBy,s=e.setOrderBy,c=e.itemsPerPage,o=e.setItemsPerPage,i=e.currentPage,l=e.setCurrentPage,u=e.search,d=e.searchBy,h=e.setSearch,g=e.setSearchBy,m=e.total,b=e.title,x=e.data,y=e.footer,P=void 0!==y&&y,v=e.header,w=void 0===v||v,Z=(0,f.Z)(e,N);return(0,p.jsxs)("div",{children:[(0,p.jsx)(B,{perPage:c,setPerPage:o,title:b,search:u,setSearch:h,searchBy:d,setSearchBy:g}),(0,p.jsxs)("table",(0,n.Z)((0,n.Z)({},Z),{},{className:"w-full",children:[!0===w&&(0,p.jsx)("thead",{className:"bg-slate-200",children:(0,p.jsx)(O,{orderBy:a,setOrderBy:s,order:t,setOrder:r,data:b})}),(0,p.jsx)("tbody",{children:x.map((function(e){return(0,p.jsx)("tr",{className:"odd:bg-slate-50 even:bg-white border-b-2",children:b.map((function(t,r){return(0,p.jsx)("td",{className:"first:pl-2 last:pr-2 text-gray-800",children:e[t]},r)}))},e.id)}))}),!0===P&&(0,p.jsx)("tfoot",{className:"bg-slate-200",children:(0,p.jsx)(O,{orderBy:a,setOrderBy:s,order:t,setOrder:r,data:b})})]})),(0,p.jsx)(j,{total:m,itemsPerPage:c,currentPage:i,setCurrentPage:l})]})}function k(e){var t=Object.assign({},((0,s.Z)(e),e));(0,h.Z)("School");var r=(0,c.useState)([]),l=(0,a.Z)(r,2),f=l[0],g=l[1],m=(0,c.useState)(!0),b=(0,a.Z)(m,2),x=b[0],y=b[1],P=(0,c.useState)({}),j=(0,a.Z)(P,2),v=j[0],w=j[1];(0,d.Z)(x);var O=(0,c.useState)("asc"),Z=(0,a.Z)(O,2),B=Z[0],N=Z[1],k=(0,c.useState)("id"),C=(0,a.Z)(k,2),E=C[0],I=C[1],_=(0,c.useState)(""),L=(0,a.Z)(_,2),D=L[0],R=L[1],U=(0,c.useState)(""),G=(0,a.Z)(U,2),V=G[0],F=G[1],z=(0,c.useState)(10),M=(0,a.Z)(z,2),T=M[0],q=M[1],A=(0,c.useState)(1),H=(0,a.Z)(A,2),J=H[0],K=H[1],Q=(0,c.useState)(0),W=(0,a.Z)(Q,2),X=W[0],Y=W[1];return(0,c.useEffect)((function(){var e={order:u("order"),orderBy:u("order_by"),search:u("search"),searchBy:u("search_by"),itemsPerPage:u("limit"),currentPage:u("page")};console.log(e),e.order&&N(e.order),e.orderBy&&I(e.orderBy),e.search&&R(e.search),e.searchBy&&F(e.searchBy),e.itemsPerPage&&q(parseInt(e.itemsPerPage)),e.currentPage&&K(parseInt(e.currentPage))}),[]),console.log(T),(0,c.useEffect)((function(){i.Z.get("/school?page=".concat(J,"&order=").concat(B,"&order_by=").concat(E,"&limit=").concat(T,"&search=").concat(D,"&search_by=").concat(V)).then((function(e){g(e.data.data),Y(e.data.total_data_length)})).catch((function(e){w({text:e.response.data.message[0],type:"error"})})).finally((function(){y(!1)}))}),[J,T,B,E,D,V]),(0,p.jsxs)("div",(0,n.Z)((0,n.Z)({},t),{},{children:[(0,p.jsx)("h2",{className:"text-2xl mb-3 border-b-2 font-lato font-semibold",children:"Schools"}),(0,p.jsx)(S,{order:B,setOrder:N,orderBy:E,setOrderBy:I,itemsPerPage:T,setItemsPerPage:q,currentPage:J,setCurrentPage:K,search:D,setSearch:R,searchBy:V,setSearchBy:F,total:X,title:["id","name","mobile_number","email","address","description"],footer:!0,data:f}),v.text&&(0,p.jsx)(o.Z,{type:v.type,onClose:function(){return w({})},closeOnBGClick:!0,children:v.text})]}))}},7441:function(e,t,r){var n=r(2388);t.Z=n.Z.create({baseURL:"/api",withCredentials:!0})},3999:function(e,t,r){function n(e){return 0===e.trim().length}r.d(t,{Z:function(){return n}})},6459:function(e,t,r){function n(e){if(null==e)throw new TypeError("Cannot destructure "+e)}r.d(t,{Z:function(){return n}})},8683:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{Z:function(){return s}})},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=514.6a5f6424.chunk.js.map