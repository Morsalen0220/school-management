{"version":3,"file":"static/js/976.69cfa8cd.chunk.js","mappings":"soCAIe,SAASA,EAAc,GAAe,IAAVC,EAAK,iCAC9C,GAAwBC,EAAAA,EAAAA,UAAS,YAAW,eAArCC,EAAI,KAAEC,EAAO,KACpB,GAAsBF,EAAAA,EAAAA,UAASG,GAAQ,eAAhCC,EAAG,KAAEC,EAAM,KAalB,OACE,iBAAKC,UAAU,WAAU,WACvB,0BACEL,KAAMA,EACNK,UAAU,6GACNP,KAEN,iBACEQ,QAjBiB,WACrB,GAAa,aAATN,EAEF,OADAI,E,s/BACOH,EAAQ,QAEjBG,EAAOF,GACPD,EAAQ,WACV,EAWMI,UAAU,yDAAwD,UAClE,gBAAKE,IAAI,SAASC,IAAKL,QAI/B,C,wFCjCe,SAASM,EAAU,GAAe,IAAVX,EAAK,iCAC1C,OACE,0BACEE,KAAK,OACLK,UAAU,6GACNP,GAGV,C,gPCSe,SAASY,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAoCb,EAAAA,EAAAA,WAAS,GAAM,eAA5Cc,EAAU,KAAEC,EAAa,KAChC,GAA8Bf,EAAAA,EAAAA,WAAS,GAAK,eAArCgB,EAAO,KAAEC,EAAU,KAC1B,GAAwCjB,EAAAA,EAAAA,UAAS,CAAC,GAAE,eAA7CkB,EAAY,KAAEC,EAAe,KACpC,GAAgCnB,EAAAA,EAAAA,UAAS,CACvCoB,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,UAAW,KACX,eALKC,EAAQ,KAAEC,EAAW,MAO5BC,EAAAA,EAAAA,GAAWV,IAEXW,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,IACO,qBACJC,MAAK,WACJd,GAAc,GACdE,GAAW,EACb,IACCa,OAAM,kBAAMf,GAAc,EAAK,GACpC,GAAG,IAEH,IAAMgB,EAAM,yCAAG,yFAEXC,EAAAA,EAAAA,GAAQR,EAASJ,QAASY,EAAAA,EAAAA,GAAQR,EAASH,SAC3CW,EAAAA,EAAAA,GAAQR,EAASF,YAAaU,EAAAA,EAAAA,GAAQR,EAASD,YAAU,yCAClDJ,EAAgB,CACvBc,KAAM,4BACNhC,KAAM,WACN,WAGGiC,EAAAA,EAAAA,GAAQV,EAASH,OAAO,CAAD,wCAASF,EAAgB,CACnDc,KAAM,6BACNhC,KAAM,WACN,UAEEuB,EAASF,WAAaE,EAASD,UAAS,yCAASJ,EAAgB,CACnEc,KAAM,wBACNhC,KAAM,WACN,gCAGM2B,EAAAA,EAAAA,KAAU,oBAAqB,CACnCR,KAAMI,EAASJ,KAAKe,OACpBd,MAAOG,EAASH,MAAMc,OACtBb,SAAUE,EAASF,SAASa,QAC3B,CACDC,QAAS,CACP,eAAgB,sBAEjB,KAAD,EACFxB,EAAS,sBAAqB,kDAE9BO,EAAgB,CACdc,KAAM,KAAMI,SAASC,KAAKC,QAAQ,GAClCtC,KAAM,UACN,0DAEL,kBArCW,mCAuCZ,OAAOa,GACL,SAAC,KAAQ,CAAC0B,GAAG,OAEb,iBAAKlC,UAAU,oEAAmE,WAChF,gBAAKA,UAAU,SACf,eAAIA,UAAU,iEAAgE,gCAG9E,gBAAKA,UAAU,SACf,SAAC,IAAK,0BACN,SAAC,IAAS,CAACmC,MAAOjB,EAASJ,KAAMsB,QAAS,SAACC,GAAC,OAAKlB,GAAY,kBAAKD,GAAQ,IAAEJ,KAAMuB,EAAEC,OAAOH,QAAQ,KACnG,gBAAKnC,UAAU,SACf,SAAC,IAAK,2BACN,SAAC,IAAU,CAACmC,MAAOjB,EAASH,MAAOqB,QAAS,SAACC,GAAC,OAAKlB,GAAY,kBAAKD,GAAQ,IAAEH,MAAOsB,EAAEC,OAAOH,QAAQ,KACtG,gBAAKnC,UAAU,SACf,SAAC,IAAK,8BACN,SAAC,IAAa,CAACmC,MAAOjB,EAASF,SAAUoB,QAAS,SAACC,GAAC,OAAKlB,GAAY,kBAAKD,GAAQ,IAAEF,SAAUqB,EAAEC,OAAOH,QAAQ,KAC/G,gBAAKnC,UAAU,SACf,SAAC,IAAK,gCACN,SAAC,IAAa,CAACmC,MAAOjB,EAASD,UAAWmB,QAAS,SAACC,GAAC,OAAKlB,GAAY,kBAAKD,GAAQ,IAAED,UAAWoB,EAAEC,OAAOH,QAAQ,KACjH,gBAAKnC,UAAU,SACf,SAAC,IAAM,CAACC,QAASwB,EAAO,0BACxB,gBAAKzB,UAAU,QACdY,EAAae,OACZ,SAAC,IAAY,CAAChC,KAAMiB,EAAajB,KAAM4C,QAAS,kBAAM1B,EAAgB,CAAC,EAAE,EAAE2B,gBAAgB,EAAK,SAC7F5B,EAAae,SAKxB,C,qCCzGA,IAAec,EAAAA,EAAAA,OAAa,CACxBC,QAJkB,OAKlBC,iBAAiB,G","sources":["components/input/PasswordInput.jsx","components/input/TextInput.jsx","pages/CreateSuperUser.jsx","util/http.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport showImg from \"./../../img/show.png\";\r\nimport hideImg from \"./../../img/hide.png\";\r\n\r\nexport default function PasswordInput({ ...props }) {\r\n  const [type, setType] = useState(\"password\");\r\n  const [img, setImg] = useState(showImg);\r\n  /**\r\n   * toggle password\r\n   */\r\n  const togglePassword = () => {\r\n    if (type === \"password\") {\r\n      setImg(hideImg);\r\n      return setType(\"text\");\r\n    }\r\n    setImg(showImg);\r\n    setType(\"password\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <input\r\n        type={type}\r\n        className=\"bg-slate-50 border-2 p-1 rounded-sm w-full focus:border-gray-500 focus:outline-none text-lg text-gray-900\"\r\n        {...props}\r\n      />\r\n      <span\r\n        onClick={togglePassword}\r\n        className=\"inline-block absolute top-0 right-1 p-1 cursor-pointer\">\r\n        <img alt=\"toggle\" src={img} />\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","export default function TextInput({ ...props }) {\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      className=\"bg-slate-50 border-2 p-1 rounded-sm w-full focus:border-gray-500 focus:outline-none text-lg text-gray-900\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n","import EmailInput from \"../components/input/EmailInput\";\r\nimport Label from \"../components/input/Label\";\r\nimport TextInput from \"../components/input/TextInput\";\r\nimport PasswordInput from \"../components/input/PasswordInput\";\r\nimport Button from \"../components/button/Button\";\r\nimport http from \"../util/http\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport useLoading from \"../hooks/useLoading\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Notification from \"../components/Notification\";\r\nimport isEmpty from \"../util/isEmpty\";\r\nimport isEmail from \"../util/isEmail\";\r\n/**\r\n * ! Error in this file\r\n */\r\n// import isEmail from \"../../util/isEmail\";\r\n\r\nexport default function CreateSuperUser() {\r\n  const navigate = useNavigate();\r\n  const [userExists, setUserExists] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [notification, setNotification] = useState({})\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    cPassword: ''\r\n  })\r\n\r\n  useLoading(loading);\r\n\r\n  useEffect(() => {\r\n    http\r\n      .get(\"/user/super-admin\")\r\n      .then(() => {\r\n        setUserExists(false);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => setUserExists(true));\r\n  }, []);\r\n\r\n  const submit = async () => {\r\n    if (\r\n      isEmpty(formData.name) || isEmpty(formData.email) ||\r\n      isEmpty(formData.password) || isEmpty(formData.cPassword)\r\n    ) return setNotification({\r\n      text: \"please fill all the input\",\r\n      type: 'error'\r\n    })\r\n\r\n\r\n    if (!isEmail(formData.email)) return setNotification({\r\n      text: \"please enter a valid email\",\r\n      type: 'error'\r\n    })\r\n\r\n    if (formData.password !== formData.cPassword) return setNotification({\r\n      text: \"passwords not matched\",\r\n      type: 'error'\r\n    })\r\n\r\n    try {\r\n      await http.post(\"/user/super-admin\", {\r\n        name: formData.name.trim(),\r\n        email: formData.email.trim(),\r\n        password: formData.password.trim(),\r\n      }, {\r\n        headers: {\r\n          \"content-type\": \"application/json\",\r\n        },\r\n      });\r\n      navigate('/login/super-admin')\r\n    } catch (error) {\r\n      setNotification({\r\n        text: error.response.data.message[0],\r\n        type: 'error'\r\n      })\r\n    }\r\n  };\r\n\r\n  return userExists ? (\r\n    <Navigate to=\"/\" />\r\n  ) : (\r\n    <div className=\"bg-white max-w-lg flex-grow rounded-sm shadow-2xl box-content p-4\">\r\n      <div className=\"p-2\"></div>\r\n      <h1 className=\"text-3xl text-gray-900 font-lato font-semibold tracking-normal\">\r\n        Create super user\r\n      </h1>\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter name</Label>\r\n      <TextInput value={formData.name} onInput={(e) => setFormData({ ...formData, name: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter email</Label>\r\n      <EmailInput value={formData.email} onInput={(e) => setFormData({ ...formData, email: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Enter password</Label>\r\n      <PasswordInput value={formData.password} onInput={(e) => setFormData({ ...formData, password: e.target.value })} />\r\n      <div className=\"p-2\"></div>\r\n      <Label>Confirm password</Label>\r\n      <PasswordInput value={formData.cPassword} onInput={(e) => setFormData({ ...formData, cPassword: e.target.value })} />\r\n      <div className=\"p-3\"></div>\r\n      <Button onClick={submit}>Create user</Button>\r\n      <div className=\"p-2\"></div>\r\n      {notification.text &&\r\n        <Notification type={notification.type} onClose={() => setNotification({})} closeOnBGClick={true}>\r\n          {notification.text}\r\n        </Notification>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst productionURL = '/api';\r\nconst devURL = 'http://localhost/api';\r\n\r\nexport default axios.create({\r\n    baseURL: process.env.NODE_ENV === 'production' ? productionURL : devURL,\r\n    withCredentials: true\r\n});"],"names":["PasswordInput","props","useState","type","setType","showImg","img","setImg","className","onClick","alt","src","TextInput","CreateSuperUser","navigate","useNavigate","userExists","setUserExists","loading","setLoading","notification","setNotification","name","email","password","cPassword","formData","setFormData","useLoading","useEffect","http","then","catch","submit","isEmpty","text","isEmail","trim","headers","response","data","message","to","value","onInput","e","target","onClose","closeOnBGClick","axios","baseURL","withCredentials"],"sourceRoot":""}