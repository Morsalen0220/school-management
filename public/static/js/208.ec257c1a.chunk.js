"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[208],{195:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(8683),s=n(4925),a=n(1087),i=n(184),c=["children"];function l(e){var t=e.children,n=(0,s.Z)(e,c);return(0,i.jsx)(a.rU,(0,r.Z)((0,r.Z)({className:"underline hover:text-teal-500 font-sans"},n),{},{children:t}))}},6393:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(8683),s=n(885),a=n(6459),i=n(2791),c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJESURBVFiF7da7axVBFAbwXyQmhSRFwGcKLTSCWKsxmtSWEtOpYNAmPiolKhb+AyJ2PjoRVOKj8NmI2sRYRGMhBCtRECsRE/GRkLWYubnrdXfvvWqX+8HAsvOdc2bmm3PO0EADCx1NdXBXYQf6sAFr0BbnpvAWr/EUD/Hhfy1yK+5jFkmNYxb30P0vgdfjVsrpDzzCUWzDWiyJYx224xge42e0mcNNdNUbfA++RidTOCdIUCuW4TQ+Rx/fcKAWw2ZcUt71CJZWcFpxBGOYjmMMh9BSwV3u91O8GGNkYnEMmOA79mZwOjEhX/uXkVOJQUHCBNezFtGEq5HwCT0ZTlpTwd+hX8iCNuzEZJx74c+TIGRPSZIrKjLwlLLeWzKMCcdeCt6RMd+B95FzMMdHjyBZghOln5uFtJmLO8nD82jYX8AZiJxnBZxdMdYsNsGraHSmwIhwOoly8clCe+R8qeLrbORNLIofsKiKUS2op7LOIy1B0fGOCYstkqk/ckYLOCUJZkQJ4GQ0nJadAXA4ciblX8I3kTOU4yN9CY+nJ5qE1EiEVOnLMG4V8jwRbvuAoHm7sPNS8HHV0/CyDLmahSJRqvuDGU46U4vIGuOyS/Y+5UJ0TUE1bMaFlMPbWFHBaRHK7qiQGVPxe0j1Uny+KHgau5W1mhaaUVaJzUNWM9pfhz1Ci70h3NhEuLVPMIxeocWW2nFX/DccOTPK7XhEaN1/jW7cVf+D5I78sj6PegrHSuFJ1ouNWC3/SfYAH+vw3UADCxi/AOf5xo2Ekp7TAAAAAElFTkSuQmCC",l=n(184);function o(e){var t=Object.assign({},((0,a.Z)(e),e)),n=(0,i.useState)("password"),o=(0,s.Z)(n,2),u=o[0],A=o[1],d=(0,i.useState)(c),p=(0,s.Z)(d,2),m=p[0],x=p[1];return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",(0,r.Z)({type:u,className:"bg-slate-50 border-2 p-1 rounded-sm w-full focus:border-gray-500 focus:outline-none text-lg text-gray-900"},t)),(0,l.jsx)("span",{onClick:function(){if("password"===u)return x("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJiSURBVFiF7dY9axVREAbgJ/ETxEYwibET0SJWClFMUMHKUqLYiSJYhJBK0cIfYKFopyCipFEIqCBYCAExIH4kEFH8AYIWKiIaQ/y8FnPW3Vz2bm4iaGFeWNg958y858w7M2dZwAL+DtowhtF/Rf4MNTz5E0edOIIhcZp3+ILp9D6GKziE9hLyZ+l7ztiOO/ieHDXzfMMtPP8T8o24UXD6BSM4hl6sxwosSc634Tju1212XuSHMZUcfMRpeVhnQxtelJCva8Z4MS7Jdz+M1XVrlmEQDzGZNvpYaN+pXPM9IlfOobUR+ZJEWEuLD5asWYsJjbX/WkJOJG82N5y4ZqAF19KC9+gpIV9WIH+JPqzEKgyYXfNdQs4aLtdPnkoTn0QylWGwQL6qMD6XUusVstVwIhvcKrL2J/ZWGD9Khn1NkHdV+Dkgl2szPE0DZyuMiOjURNiryPfg9Sy+zie7icVCfyIKVciyN6v7EWwSzWY33ohSvSlOV4Va8WO76Fw/zAxvPTIJBjTW/GAaf1DhZ5+Q+xu6s8HjyXBKJEoZDplZcvXkbXiV5vob+OiRJ+HJ4kSLvAFNCh3r0am8ztvFyTPycSwtsd+JD2nNkFz632hNE1mGDhQWVSXctDwq42mj9Tgs7pIarouOW4pFuFhweBdbGpB3iWz/JDTvLzl5u5kX2sUq8iKOyrWaz622BmfkpftZeWuvxDZRGfXk3ULPDiwXV/IG7BDd7Z7I8JrI9mFxdc8JzWre6PmO2xq39XmRw35cED3hpQjtNN6K/72rIuE65kOcYawB+V/DqDjNPyFfwP+HXwtw65VVqDWGAAAAAElFTkSuQmCC"),A("text");x(c),A("password")},className:"inline-block absolute top-0 right-1 p-1 cursor-pointer",children:(0,l.jsx)("img",{alt:"toggle",src:m})})]})}},1832:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(2791);function s(e){var t=document.title;(0,r.useEffect)((function(){return document.title=e,function(){return document.title=t}}),[e,t])}},208:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(4165),s=n(5861),a=n(885),i=n(2791),c=n(2044),l=n(8683),o=n(6459),u=n(184);function A(e){var t=Object.assign({},((0,o.Z)(e),e));return(0,u.jsx)("input",(0,l.Z)({type:"checkbox",className:"inline-block"},t))}var d=n(9061),p=n(3412),m=n(6393),x=n(1832),h=n(195),f=n(7689),Z=n(7441),v=n(2460),w=n(3999),g=n(4718),j=n(5761);var N=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),n=t[0],l=t[1],o=(0,i.useState)(""),N=(0,a.Z)(o,2),C=N[0],b=N[1],k=(0,i.useState)(""),y=(0,a.Z)(k,2),S=y[0],E=y[1],O=(0,i.useState)({}),U=(0,a.Z)(O,2),B=U[0],W=U[1],V=(0,i.useState)(!1),J=(0,a.Z)(V,2),F=J[0],I=J[1],D=(0,f.s0)();(0,j.Z)(F);var X=(0,f.UO)().role;(0,x.Z)("".concat(X," login")),(0,i.useEffect)((function(){"student"!==X&&"parent"!==X&&"teacher"!==X&&"librarian"!==X&&"accountant"!==X&&"admin"!==X&&"super-admin"!==X&&D("/login")}),[D,X]);var z=function(){return l(!n)},R=(0,i.useCallback)((0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,w.Z)(C)){e.next=2;break}return e.abrupt("return",W({text:"email is required",type:"error"}));case 2:if(!(0,w.Z)(S)){e.next=4;break}return e.abrupt("return",W({text:"password is required",type:"error"}));case 4:if((0,g.Z)(C)){e.next=6;break}return e.abrupt("return",W({text:"please enter a valid email",type:"error"}));case 6:return I(!0),e.prev=7,e.next=10,Z.Z.post("login/".concat(X),{email:C,password:S,onetime:!n},{headers:{"content-type":"application/json"}});case 10:W({text:"logged in success, redirecting please wait...",type:"success"}),D("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),W({text:e.t0.response.data.message[0],type:"error"});case 17:return e.prev=17,I(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])}))),[n,C,S,D,X]);return(0,u.jsxs)("div",{className:"bg-white p-4 max-w-lg flex-grow rounded-sm shadow-2xl",children:[(0,u.jsx)("div",{className:"p-2"}),(0,u.jsxs)("h1",{className:"text-3xl text-gray-900 font-semibold tracking-normal font-lato",children:[X.slice(0,1).toUpperCase(),X.slice(1)," login"]}),(0,u.jsxs)("p",{children:[(0,u.jsxs)(h.Z,{to:"/login",children:["not ",X,"?"]})," login as other user"]}),(0,u.jsx)("div",{className:"p-2"}),(0,u.jsx)(p.Z,{children:"Email"}),(0,u.jsx)(d.Z,{name:"email",value:C,onInput:function(e){return b(e.target.value)}}),(0,u.jsx)("div",{className:"p-1"}),(0,u.jsx)(p.Z,{children:"Password"}),(0,u.jsx)(m.Z,{name:"password",value:S,onInput:function(e){return E(e.target.value)}}),(0,u.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(A,{checked:n,onChange:z}),(0,u.jsx)("span",{className:"ml-1"}),(0,u.jsx)(p.Z,{small:!0,onClick:z,children:"remember me"})]}),(0,u.jsx)("div",{children:(0,u.jsx)(p.Z,{small:!0,children:(0,u.jsx)(h.Z,{to:"/login/".concat(X,"/forgot-password"),children:"forgot password?"})})})]}),(0,u.jsx)("div",{className:"p-2"}),(0,u.jsx)(c.Z,{onClick:R,children:"Login"}),(0,u.jsx)("div",{className:"p-2"}),B.text&&(0,u.jsx)(v.Z,{type:B.type,onClose:function(){return W({})},closeOnBGClick:!0,children:B.text})]})}},7441:function(e,t,n){var r=n(2388);t.Z=r.Z.create({baseURL:"/api",withCredentials:!0})}}]);
//# sourceMappingURL=208.ec257c1a.chunk.js.map