"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[2],{5761:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(2791);function s(e){(0,r.useEffect)((function(){return document.body.classList.toggle("loading",e),function(){return document.body.classList.remove("loading")}}),[e])}},7002:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(885),s=t(2791),i=t(7689),o=t(2982),c=t(6459),l=t(8683),a=t(4925),u=t(1087),d=t(184),h=["to","topLevelMenu","exact","children","hightLight"];function f(e){var n=e.open,t=void 0!==n&&n;return(0,d.jsx)("span",{className:"inline-block ml-2  ".concat(t?"-rotate-90":"rotate-180"),children:"\u276e"})}function x(e){var n=e.to,t=void 0===n?"#":n,r=e.topLevelMenu,s=void 0!==r&&r,o=e.exact,c=void 0!==o&&o,f=e.children,x=e.hightLight,b=void 0!==x&&x,j=(0,a.Z)(e,h),p=(0,i.WU)().pathname,m=p.startsWith(t);return m&&c&&(m=p===t||p===t+"/"),(0,d.jsx)(u.rU,(0,l.Z)((0,l.Z)({className:"inline-block font-sans px-4 text-left border-b-2 ".concat(s?"":"last:border-b-0 "," ").concat(m?s?"bg-emerald-300 text-gray-900 border-white font-semibold":"bg-gray-200":"text-black hover:bg-gray-200 "," ").concat(!m&&b?"bg-gray-200":""," "),to:t},j),{},{children:f}))}function b(e){Object.assign({},((0,c.Z)(e),e));var n=(0,s.useState)(!1),t=(0,r.Z)(n,2),l=t[0],a=t[1],u=(0,i.WU)().pathname,h=(0,s.useState)([]),b=(0,r.Z)(h,2),j=b[0],p=b[1];(0,s.useEffect)((function(){if("/"!==u){var e=u.slice(1).replace(/[/].+/,"");p([e])}}),[u]),(0,s.useEffect)((function(){window.innerWidth>1024&&a(!0)}),[]);var m=function(e){return j.includes(e)},g=function(e){if(j.includes(e))return p((0,o.Z)(j.filter((function(n){return n!==e}))));p([].concat((0,o.Z)(j),[e]))};return(0,d.jsxs)("aside",{className:"relative shadow-xl min-h-screen w-full transition bg-white border-t-2 ".concat(l?"max-w-fit":"max-w-0"),children:[(0,d.jsxs)("nav",{className:"overflow-hidden transition flex flex-col",children:[(0,d.jsx)(x,{to:"/school",topLevelMenu:!0,hightLight:m("school"),onClick:function(e){e.preventDefault(),g("school")},children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"School"})," ",(0,d.jsx)(f,{open:m("school")})]})}),(0,d.jsx)("div",{className:"border-b-2 ".concat(m("school")?"":"hidden"),children:(0,d.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,d.jsx)(x,{to:"/school",exact:!0,children:"View"}),(0,d.jsx)(x,{to:"/school/add",children:"Add new"})]})}),(0,d.jsx)(x,{to:"/users",topLevelMenu:!0,hightLight:m("users"),onClick:function(e){e.preventDefault(),g("users")},children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:" Users"})," ",(0,d.jsx)(f,{open:m("users")})]})}),(0,d.jsx)("div",{className:"border-b-2 ".concat(m("users")?"":"hidden"),children:(0,d.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,d.jsx)(x,{to:"/users/admin",children:"Admin"}),(0,d.jsx)(x,{to:"/users/accountant",children:"Accountant"}),(0,d.jsx)(x,{to:"/users/student",children:"Student"}),(0,d.jsx)(x,{to:"/users/librarian",children:"Librarian"}),(0,d.jsx)(x,{to:"/users/parent",children:"Parent"}),(0,d.jsx)(x,{to:"/users/teacher",children:"Teacher"})]})}),(0,d.jsx)(x,{to:"/class",topLevelMenu:!0,hightLight:m("class"),onClick:function(e){e.preventDefault(),g("class")},children:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:"Class"}),(0,d.jsx)(f,{open:m("class")})]})}),(0,d.jsx)(x,{to:"/notice",topLevelMenu:!0,children:"Notice"}),(0,d.jsx)(x,{to:"/exam",topLevelMenu:!0,children:"Exam"}),(0,d.jsx)(x,{to:"/book",topLevelMenu:!0,children:"Books"})]}),(0,d.jsx)("span",{title:l?"close menu":"open menu",className:"inline-block absolute bg-emerald-300 rounded-full text-white font-extrabold font-lato p-1 px-2 cursor-pointer select-none transition top-52 z-20 ".concat(l?"-right-5":"-left-2 hover:left-1"),onClick:function(){return a(!l)},children:l?(0,d.jsx)("span",{className:"inline-block rotate-180",children:"\u27a4"}):(0,d.jsx)("span",{children:"\u27a4"})})]})}var j={image:"".concat("","/public/uploads/image")},p=["to","children"];function m(e){var n=e.to,t=e.children,r=(0,a.Z)(e,p);return(0,d.jsx)(u.rU,(0,l.Z)((0,l.Z)({className:"inline-block w-full px-2 cursor-pointer hover:bg-gray-100 font-sans"},r),{},{to:n,children:t}))}function g(){return(0,d.jsxs)("div",{className:"absolute right-4 shadow-2xl rounded-sm bg-slate-100 z-20",children:[(0,d.jsx)(m,{to:"/profile",children:"Profile"}),(0,d.jsx)(m,{to:"/settings",children:"Settings"}),(0,d.jsx)("hr",{}),(0,d.jsx)(m,{to:"/logout",children:"Logout"})]})}function v(e){var n=Object.assign({},((0,c.Z)(e),e)),t=(0,s.useState)(!1),i=(0,r.Z)(t,2),o=i[0],a=i[1];return(0,d.jsxs)("header",(0,l.Z)((0,l.Z)({className:"relative"},n),{},{children:[(0,d.jsxs)("div",{className:"h-full bg-white shadow-xl p-2 flex justify-between items-center",children:[(0,d.jsx)("h4",{className:"font-lato text-lg font-semibold",children:"Title here"}),(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"inline-block h-10 bg-white-500 border-2 border-emerald-300 rounded-full p-1 cursor-pointer",onClick:function(){return a(!o)},children:(0,d.jsx)("img",{src:"".concat(j.image,"/user.png"),alt:"user",className:"max-h-full"})})})]}),o&&(0,d.jsx)(g,{})]}))}var w=t(5761),y=t(7441);function O(e){var n=e.children,t=(0,s.useState)({}),o=(0,r.Z)(t,2),c=o[0],l=o[1],a=(0,s.useState)(!0),u=(0,r.Z)(a,2),h=u[0],f=u[1],x=(0,i.s0)();return(0,w.Z)(h),(0,s.useEffect)((function(){y.Z.get("/user/me").then((function(e){l(e.data.data)})).catch((function(){x("/login")})).finally((function(){f(!1)}))}),[x]),c!=={}&&(0,d.jsxs)("div",{children:[(0,d.jsx)(v,{}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(b,{}),(0,d.jsx)("main",{className:"bg-white w-full m-2 mr-0 mb-0 shadow-lg relative z-10 rounded-sm p-2",children:n})]})]})}},7441:function(e,n,t){var r=t(2388);n.Z=r.Z.create({baseURL:"/api",withCredentials:!0})},6459:function(e,n,t){function r(e){if(null==e)throw new TypeError("Cannot destructure "+e)}t.d(n,{Z:function(){return r}})},8683:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.d(n,{Z:function(){return i}})},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=2.93abcfa4.chunk.js.map