{"version":3,"file":"static/js/2.a428cddf.chunk.js","mappings":"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","sources":["hooks/useLoading.js","components/dashboard-parts/Sidebar.jsx","util/URL.js","components/dashboard-parts/Header.jsx","pages/Dashboard.jsx","util/http.js","../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport default function useLoading(state) {\r\n    useEffect(() => {\r\n        document.body.classList.toggle('loading', state);\r\n\r\n        return () => document.body.classList.remove('loading');\r\n    }, [state]);\r\n}","import { Link, useResolvedPath } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction MenuItem({\r\n  to,\r\n  topLevelMenu = false,\r\n  exact = false,\r\n  children,\r\n  ...props\r\n}) {\r\n  const { pathname } = useResolvedPath();\r\n  let active = pathname.startsWith(to);\r\n  if (active && exact) {\r\n    active = pathname === to || pathname === to + \"/\";\r\n  }\r\n\r\n  return (\r\n    <Link\r\n      className={`inline-block font-sans px-4 text-left border-b-2 ${\r\n        topLevelMenu ? \"\" : \"last:border-b-0 \"\r\n      } ${\r\n        active\r\n          ? topLevelMenu\r\n            ? \"bg-emerald-300 text-gray-900 border-white font-semibold\"\r\n            : \"bg-gray-100\"\r\n          : \"text-black hover:bg-gray-100\"\r\n      }`}\r\n      to={to}\r\n      {...props}>\r\n      {children}\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default function Sidebar({ ...props }) {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const { pathname } = useResolvedPath();\r\n  const [openMenu, setOpenMenu] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (pathname === \"/\") return;\r\n    /**\r\n     * This regex will remove everything after 2nd /\r\n     * url - /something/this-part-will-remove - output - something\r\n     */\r\n    const menu = pathname.slice(1).replace(/[/].+/, \"\");\r\n    setOpenMenu([menu]);\r\n    /**\r\n     * ! Don't add openMenu to dependency it will cause infinite render\r\n     */\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pathname]);\r\n\r\n  useEffect(() => {\r\n    /**\r\n     * On big screen side should be open by default\r\n     */\r\n    if (window.innerWidth > 1024) setIsMenuOpen(true);\r\n  }, []);\r\n\r\n  /**\r\n   * @param {string} menu\r\n   * @returns {boolean} is Active\r\n   */\r\n  const isMainMenuOpen = (menu) => {\r\n    return openMenu.includes(menu);\r\n  };\r\n\r\n  return (\r\n    <aside\r\n      className={`relative shadow-xl min-h-screen w-full transition bg-white ${\r\n        isMenuOpen ? \"max-w-fit\" : \"max-w-0\"\r\n      }`}>\r\n      <div className=\"overflow-hidden transition flex flex-col\">\r\n        <MenuItem to=\"/school\" topLevelMenu={true}>\r\n          School\r\n        </MenuItem>\r\n\r\n        <div\r\n          className={`border-b-2 ${isMainMenuOpen(\"school\") ? \"\" : \"hidden\"}`}>\r\n          <div className=\"flex flex-col ml-2\">\r\n            <MenuItem to=\"/school\" exact={true}>\r\n              View\r\n            </MenuItem>\r\n            <MenuItem to=\"/school/add\">Add new</MenuItem>\r\n          </div>\r\n        </div>\r\n\r\n        <MenuItem to=\"/users\" topLevelMenu={true}>\r\n          Users\r\n        </MenuItem>\r\n\r\n        <div\r\n          className={`border-b-2 ${isMainMenuOpen(\"users\") ? \"\" : \"hidden\"}`}>\r\n          <div className=\"flex flex-col ml-2\">\r\n            <MenuItem to=\"/users/admin\">Admin</MenuItem>\r\n            <MenuItem to=\"/users/accountant\">Accountant</MenuItem>\r\n            <MenuItem to=\"/users/student\">Student</MenuItem>\r\n            <MenuItem to=\"/users/librarian\">Librarian</MenuItem>\r\n            <MenuItem to=\"/users/parent\">Parent</MenuItem>\r\n            <MenuItem to=\"/users/teacher\">Teacher</MenuItem>\r\n          </div>\r\n        </div>\r\n\r\n        <MenuItem to=\"/class\" topLevelMenu={true}>\r\n          Class\r\n        </MenuItem>\r\n        <MenuItem to=\"/notice\" topLevelMenu={true}>\r\n          Notice\r\n        </MenuItem>\r\n        <MenuItem to=\"/exam\" topLevelMenu={true}>\r\n          Exam\r\n        </MenuItem>\r\n        <MenuItem to=\"/book\" topLevelMenu={true}>\r\n          Books\r\n        </MenuItem>\r\n      </div>\r\n\r\n      <span\r\n        title={isMenuOpen ? \"close menu\" : \"open menu\"}\r\n        className={`inline-block absolute bg-emerald-300 rounded-full text-white font-extrabold font-lato p-1 px-2 cursor-pointer select-none transition top-52 z-20 ${\r\n          isMenuOpen ? \"-right-5\" : \"-left-2 hover:left-1\"\r\n        }`}\r\n        onClick={() => setIsMenuOpen(!isMenuOpen)}>\r\n        {isMenuOpen ? (\r\n          <span className=\"inline-block rotate-180\">&#10148;</span>\r\n        ) : (\r\n          <span>&#10148;</span>\r\n        )}\r\n      </span>\r\n    </aside>\r\n  );\r\n}\r\n","const productionURL = '';\r\nconst devURL = 'http://localhost';\r\nconst url = process.env.NODE_ENV === 'production' ? productionURL : devURL;\r\n\r\nconst data = {\r\n    image: `${url}/public/uploads/image`\r\n}\r\n\r\nexport default data;","import { useState } from \"react\";\r\nimport url from \"../../util/URL\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction MenuLink({ to, children, ...props }) {\r\n  return (\r\n    <Link\r\n      className=\"inline-block w-full px-2 cursor-pointer hover:bg-gray-100 font-sans\"\r\n      {...props}\r\n      to={to}>\r\n      {children}\r\n    </Link>\r\n  );\r\n}\r\n\r\nfunction Menu() {\r\n  return (\r\n    <div className=\"absolute right-4 shadow-2xl rounded-sm bg-white z-20\">\r\n      <MenuLink to=\"/profile\">Profile</MenuLink>\r\n      <MenuLink to=\"/settings\">Settings</MenuLink>\r\n      <hr />\r\n      <MenuLink to=\"/logout\">Logout</MenuLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Header({ ...props }) {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  return (\r\n    <header className=\"relative\" {...props}>\r\n      <div className=\"h-full bg-white shadow-xl p-2 flex justify-between items-center\">\r\n        <h4 className=\"font-lato text-lg font-semibold\">Title here</h4>\r\n        <div>\r\n          <span\r\n            className=\"inline-block h-10 bg-white-500 border-2 border-emerald-300 rounded-full p-1 cursor-pointer\"\r\n            onClick={() => setIsMenuOpen(!isMenuOpen)}>\r\n            <img\r\n              src={`${url.image}/user.png`}\r\n              alt=\"user\"\r\n              className=\"max-h-full\"\r\n            />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      {isMenuOpen && <Menu />}\r\n    </header>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Sidebar from \"../components/dashboard-parts/Sidebar\";\r\nimport Header from \"../components/dashboard-parts/Header\";\r\nimport useLoading from \"../hooks/useLoading\";\r\nimport http from \"../util/http\";\r\n\r\nexport default function Dashboard({ children }) {\r\n  const [userData, setUserData] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  useLoading(loading);\r\n\r\n  useEffect(() => {\r\n    http\r\n      .get(\"/user/me\")\r\n      .then((res) => {\r\n        setUserData(res.data.data);\r\n      })\r\n      .catch(() => {\r\n        navigate(\"/login\");\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [navigate]);\r\n\r\n  return (\r\n    userData !== {} && (\r\n      <div>\r\n        <Header />\r\n        <div className=\"flex\">\r\n          <Sidebar />\r\n          <main className=\"bg-white w-full m-2 mr-0 mb-0 shadow-lg relative z-10 rounded-sm p-2\">\r\n            {children}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst productionURL = '/api';\r\nconst devURL = 'http://localhost/api';\r\n\r\nexport default axios.create({\r\n    baseURL: process.env.NODE_ENV === 'production' ? productionURL : devURL,\r\n    withCredentials: true\r\n});","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure \" + obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"names":["useLoading","state","useEffect","document","body","classList","toggle","remove","MenuItem","to","topLevelMenu","exact","children","props","pathname","useResolvedPath","active","startsWith","className","Sidebar","useState","isMenuOpen","setIsMenuOpen","openMenu","setOpenMenu","menu","slice","replace","window","innerWidth","isMainMenuOpen","includes","title","onClick","image","MenuLink","Menu","Header","src","url","alt","Dashboard","userData","setUserData","loading","setLoading","navigate","useNavigate","http","then","res","data","catch","finally","axios","baseURL","withCredentials","_objectDestructuringEmpty","obj","TypeError","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}